{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\NodeBE\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\NodeBE\",\"filename\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\NodeBE\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\NodeBE\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar client = require('../connection.js');\n\n// export let cartItems = [\n//   products[0],\n//   products[2],\n//   products[3],\n// ];\n\nclient.connect();\nvar cartItems = [];\nvar app = (0, _express[\"default\"])();\napp.use(_bodyParser[\"default\"].json());\napp.use('/images', _express[\"default\"][\"static\"](_path[\"default\"].join(__dirname, '../assets')));\n\n//endpoint for products\napp.get('/api/products', function (req, res) {\n  client.query('SELECT * FROM products', function (err, result) {\n    if (err) throw err;\n    res.send(result.rows);\n  });\n  //res.status(200).json(products);\n});\n\napp.get('/api/products/:productId', /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var productId, result, product;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          productId = req.params.productId;\n          _context.next = 3;\n          return client.query('SELECT * FROM products WHERE product_id = $1', [productId]);\n        case 3:\n          result = _context.sent;\n          //console.log(result)\n          product = result.rows[0];\n          if (product) {\n            res.status(200).json(product);\n          } else {\n            res.status(404).json({\n              message: 'Product not found!'\n            });\n          }\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n//endpoint for cart\napp.get('/api/users/:userId/cart', /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var userId, customer, customerData, cart;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          userId = req.params.userId;\n          _context2.next = 3;\n          return client.query('SELECT * FROM customers WHERE customer_id = $1', [userId]);\n        case 3:\n          customer = _context2.sent;\n          customerData = customer.rows[0]; //add a temporary cart property to customer, but won't add it to database\n          //cart = cartItems;\n          customerData.cart = cartItems;\n          cart = customerData.cart || {};\n          console.log(cart);\n          if (customer) {\n            res.status(200).json(customerData);\n          } else {\n            res.status(404).json({\n              message: 'Customer not found!'\n            });\n          }\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n//endpoint for adding product to cart\napp.post('/api/users/:userId/cart', /*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    var productId, itemExist, result, product;\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          productId = req.body.productId; //productId\n          console.log(productId);\n          console.log(cartItems);\n          itemExist = cartItems.find(function (product) {\n            return product.product_id.toString() === productId;\n          });\n          console.log(itemExist);\n          if (!itemExist) {\n            _context3.next = 11;\n            break;\n          }\n          itemExist.quantity += 1;\n          console.log('already in cart');\n          res.status(200).json(cartItems);\n          _context3.next = 16;\n          break;\n        case 11:\n          _context3.next = 13;\n          return client.query('SELECT * FROM products WHERE product_id = $1', [productId]);\n        case 13:\n          result = _context3.sent;\n          //console.log(result)\n          product = result.rows[0];\n          if (product) {\n            product.quantity = 1;\n            cartItems.push(product); //add product to cart\n            res.status(200).json(cartItems);\n          } else {\n            res.status(404).json({\n              message: 'Product not found!'\n            });\n          }\n        case 16:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n//delete from cart\napp[\"delete\"]('/api/users/:userId/cart/:productId', function (req, res) {\n  var productId = req.params.productId; //productId\n  cartItems = cartItems.filter(function (product) {\n    return product.product_id.toString() !== productId;\n  });\n  res.status(200).json(cartItems);\n});\n\n//checking out from cart\napp.post('/api/users/:userId/cart/checkout', /*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var userId, cartItems, orderDate, totalPrice, orderResult, orderId;\n    return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          userId = req.params.userId;\n          cartItems = req.body;\n          console.log(cartItems);\n          orderDate = new Date();\n          totalPrice = cartItems.reduce(function (total, item) {\n            return total + Number(item.price * item.quantity);\n          }, 0);\n          _context5.next = 7;\n          return client.query('INSERT INTO orders (customer_id, order_date, total_price) VALUES ($1, $2, $3) RETURNING order_id', [userId, orderDate, totalPrice]);\n        case 7:\n          orderResult = _context5.sent;\n          orderId = orderResult.rows[0].order_id;\n          cartItems.forEach( /*#__PURE__*/function () {\n            var _ref5 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(item) {\n              return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n                while (1) switch (_context4.prev = _context4.next) {\n                  case 0:\n                    _context4.next = 2;\n                    return client.query('INSERT INTO OrderDetail (order_id, product_id, quantity) VALUES ($1, $2, $3)', [orderId, item.product_id, item.quantity]);\n                  case 2:\n                  case \"end\":\n                    return _context4.stop();\n                }\n              }, _callee4);\n            }));\n            return function (_x9) {\n              return _ref5.apply(this, arguments);\n            };\n          }());\n          res.status(200).json({\n            message: 'Checkout successfully!'\n          });\n        case 11:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n\n//For references purpose\n//-----------------------------------------------//\napp.get('/hello', function (req, res) {\n  res.send('Hello!');\n});\napp.post('/hello', function (req, res) {\n  res.send(\"Hello \".concat(req.body.name, \"!\"));\n});\napp.get('/xinchao/:name', function (req, res) {\n  res.send(\"Ch\\xE0o em b\\xE9 \".concat(req.params.name));\n});\napp.get('/test-db', function (req, res) {});\napp.listen(8000, function () {\n  console.log('Server is listening on port 8000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JvZHlQYXJzZXIiLCJfcGF0aCIsImNsaWVudCIsImNvbm5lY3QiLCJjYXJ0SXRlbXMiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImdldCIsInJlcSIsInJlcyIsInF1ZXJ5IiwiZXJyIiwicmVzdWx0Iiwic2VuZCIsInJvd3MiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJwcm9kdWN0SWQiLCJwcm9kdWN0Iiwid3JhcCIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsInBhcmFtcyIsInNlbnQiLCJzdGF0dXMiLCJtZXNzYWdlIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfcmVmMiIsIl9jYWxsZWUyIiwidXNlcklkIiwiY3VzdG9tZXIiLCJjdXN0b21lckRhdGEiLCJjYXJ0IiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiY29uc29sZSIsImxvZyIsIl94MyIsIl94NCIsInBvc3QiLCJfcmVmMyIsIl9jYWxsZWUzIiwiaXRlbUV4aXN0IiwiX2NhbGxlZTMkIiwiX2NvbnRleHQzIiwiYm9keSIsImZpbmQiLCJwcm9kdWN0X2lkIiwidG9TdHJpbmciLCJxdWFudGl0eSIsInB1c2giLCJfeDUiLCJfeDYiLCJmaWx0ZXIiLCJfcmVmNCIsIl9jYWxsZWU1Iiwib3JkZXJEYXRlIiwidG90YWxQcmljZSIsIm9yZGVyUmVzdWx0Iiwib3JkZXJJZCIsIl9jYWxsZWU1JCIsIl9jb250ZXh0NSIsIkRhdGUiLCJyZWR1Y2UiLCJ0b3RhbCIsIml0ZW0iLCJOdW1iZXIiLCJwcmljZSIsIm9yZGVyX2lkIiwiZm9yRWFjaCIsIl9yZWY1IiwiX2NhbGxlZTQiLCJfY2FsbGVlNCQiLCJfY29udGV4dDQiLCJfeDkiLCJfeDciLCJfeDgiLCJjb25jYXQiLCJuYW1lIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEFkbWluXFxEZXNrdG9wXFxOb2RlQkVcXHNyY1xcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSBcImJvZHktcGFyc2VyXCI7XHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XHJcbmNvbnN0IGNsaWVudCA9IHJlcXVpcmUgKCcuLi9jb25uZWN0aW9uLmpzJyk7XHJcbiAgXHJcbiAgLy8gZXhwb3J0IGxldCBjYXJ0SXRlbXMgPSBbXHJcbiAgLy8gICBwcm9kdWN0c1swXSxcclxuICAvLyAgIHByb2R1Y3RzWzJdLFxyXG4gIC8vICAgcHJvZHVjdHNbM10sXHJcbiAgLy8gXTtcclxuXHJcbmNsaWVudC5jb25uZWN0KCk7XHJcblxyXG5sZXQgY2FydEl0ZW1zID0gW107XHJcblxyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5hcHAudXNlKCcvaW1hZ2VzJywgZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJy4uL2Fzc2V0cycpKSk7XHJcblxyXG4vL2VuZHBvaW50IGZvciBwcm9kdWN0c1xyXG5hcHAuZ2V0KCcvYXBpL3Byb2R1Y3RzJywgKHJlcSxyZXMpID0+IHtcclxuICAgIGNsaWVudC5xdWVyeSgnU0VMRUNUICogRlJPTSBwcm9kdWN0cycsIChlcnIsIHJlc3VsdCkgPT4ge1xyXG4gICAgaWYgKGVycikgdGhyb3cgZXJyO1xyXG4gICAgcmVzLnNlbmQocmVzdWx0LnJvd3MpO1xyXG4gICAgfSk7XHJcbiAgICAvL3Jlcy5zdGF0dXMoMjAwKS5qc29uKHByb2R1Y3RzKTtcclxufSk7XHJcblxyXG5hcHAuZ2V0KCcvYXBpL3Byb2R1Y3RzLzpwcm9kdWN0SWQnLCBhc3luYyAocmVxLHJlcykgPT4ge1xyXG4gICAgY29uc3QgeyBwcm9kdWN0SWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQucXVlcnkoJ1NFTEVDVCAqIEZST00gcHJvZHVjdHMgV0hFUkUgcHJvZHVjdF9pZCA9ICQxJywgW3Byb2R1Y3RJZF0pO1xyXG4gICAgLy9jb25zb2xlLmxvZyhyZXN1bHQpXHJcbiAgICBjb25zdCBwcm9kdWN0ID0gcmVzdWx0LnJvd3NbMF07XHJcbiAgICBpZihwcm9kdWN0KSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7bWVzc2FnZTogJ1Byb2R1Y3Qgbm90IGZvdW5kISd9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vL2VuZHBvaW50IGZvciBjYXJ0XHJcbmFwcC5nZXQoJy9hcGkvdXNlcnMvOnVzZXJJZC9jYXJ0JywgYXN5bmMgKHJlcSxyZXMpID0+IHtcclxuICAgIGNvbnN0IHsgdXNlcklkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgY29uc3QgY3VzdG9tZXIgPSBhd2FpdCBjbGllbnQucXVlcnkoJ1NFTEVDVCAqIEZST00gY3VzdG9tZXJzIFdIRVJFIGN1c3RvbWVyX2lkID0gJDEnLCBbdXNlcklkXSk7XHJcblxyXG4gICAgY29uc3QgY3VzdG9tZXJEYXRhID0gY3VzdG9tZXIucm93c1swXTtcclxuICAgIC8vYWRkIGEgdGVtcG9yYXJ5IGNhcnQgcHJvcGVydHkgdG8gY3VzdG9tZXIsIGJ1dCB3b24ndCBhZGQgaXQgdG8gZGF0YWJhc2VcclxuICAgIC8vY2FydCA9IGNhcnRJdGVtcztcclxuICAgIGN1c3RvbWVyRGF0YS5jYXJ0ID0gY2FydEl0ZW1zO1xyXG4gICAgY29uc3QgY2FydCA9IGN1c3RvbWVyRGF0YS5jYXJ0IHx8IHt9O1xyXG4gICAgY29uc29sZS5sb2coY2FydCk7XHJcbiAgICBpZiAoY3VzdG9tZXIpIHtcclxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oY3VzdG9tZXJEYXRhKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdDdXN0b21lciBub3QgZm91bmQhJyB9KTtcclxuICAgIH1cclxufSk7XHJcbi8vZW5kcG9pbnQgZm9yIGFkZGluZyBwcm9kdWN0IHRvIGNhcnRcclxuYXBwLnBvc3QoJy9hcGkvdXNlcnMvOnVzZXJJZC9jYXJ0JywgYXN5bmMgKHJlcSxyZXMpID0+IHtcclxuICBjb25zdCB7IHByb2R1Y3RJZCB9ID0gcmVxLmJvZHk7IC8vcHJvZHVjdElkXHJcbiAgY29uc29sZS5sb2cocHJvZHVjdElkKTtcclxuICBjb25zb2xlLmxvZyhjYXJ0SXRlbXMpO1xyXG5cclxuICBjb25zdCBpdGVtRXhpc3QgPSBjYXJ0SXRlbXMuZmluZCgocHJvZHVjdCkgPT4gcHJvZHVjdC5wcm9kdWN0X2lkLnRvU3RyaW5nKCkgPT09IHByb2R1Y3RJZCk7XHJcblxyXG4gIGNvbnNvbGUubG9nKGl0ZW1FeGlzdCk7XHJcbiAgaWYoaXRlbUV4aXN0KXsgXHJcbiAgICBpdGVtRXhpc3QucXVhbnRpdHkgKz0gMTtcclxuICAgIGNvbnNvbGUubG9nKCdhbHJlYWR5IGluIGNhcnQnKTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGNhcnRJdGVtcyk7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50LnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIHByb2R1Y3RzIFdIRVJFIHByb2R1Y3RfaWQgPSAkMScsIFtwcm9kdWN0SWRdKTtcclxuICAgIC8vY29uc29sZS5sb2cocmVzdWx0KVxyXG4gICAgY29uc3QgcHJvZHVjdCA9IHJlc3VsdC5yb3dzWzBdO1xyXG4gICAgaWYocHJvZHVjdCkge1xyXG4gICAgICAgIHByb2R1Y3QucXVhbnRpdHkgPSAxO1xyXG4gICAgICAgIGNhcnRJdGVtcy5wdXNoKHByb2R1Y3QpOyAvL2FkZCBwcm9kdWN0IHRvIGNhcnRcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXJ0SXRlbXMpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6ICdQcm9kdWN0IG5vdCBmb3VuZCEnfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vZGVsZXRlIGZyb20gY2FydFxyXG5hcHAuZGVsZXRlKCcvYXBpL3VzZXJzLzp1c2VySWQvY2FydC86cHJvZHVjdElkJywgKHJlcSxyZXMpID0+IHtcclxuICAgICBjb25zdCB7IHByb2R1Y3RJZCB9ID0gcmVxLnBhcmFtczsgLy9wcm9kdWN0SWRcclxuICAgICBjYXJ0SXRlbXMgPSBjYXJ0SXRlbXMuZmlsdGVyKChwcm9kdWN0KSA9PiBwcm9kdWN0LnByb2R1Y3RfaWQudG9TdHJpbmcoKSAhPT0gcHJvZHVjdElkKTtcclxuICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXJ0SXRlbXMpO1xyXG59KTtcclxuXHJcbi8vY2hlY2tpbmcgb3V0IGZyb20gY2FydFxyXG5hcHAucG9zdCgnL2FwaS91c2Vycy86dXNlcklkL2NhcnQvY2hlY2tvdXQnLCBhc3luYyAocmVxLHJlcykgPT4ge1xyXG4gIGNvbnN0IHsgdXNlcklkIH0gPSByZXEucGFyYW1zO1xyXG4gIGNvbnN0IGNhcnRJdGVtcyA9IHJlcS5ib2R5O1xyXG4gIGNvbnNvbGUubG9nKGNhcnRJdGVtcyk7XHJcbiAgY29uc3Qgb3JkZXJEYXRlID0gbmV3IERhdGUoKTtcclxuICBjb25zdCB0b3RhbFByaWNlID0gY2FydEl0ZW1zLnJlZHVjZSgodG90YWwsIGl0ZW0pID0+IHRvdGFsICsgTnVtYmVyKGl0ZW0ucHJpY2UgKiBpdGVtLnF1YW50aXR5KSwgMCk7XHJcbiAgXHJcbiAgY29uc3Qgb3JkZXJSZXN1bHQgPSBhd2FpdCBjbGllbnQucXVlcnkoJ0lOU0VSVCBJTlRPIG9yZGVycyAoY3VzdG9tZXJfaWQsIG9yZGVyX2RhdGUsIHRvdGFsX3ByaWNlKSBWQUxVRVMgKCQxLCAkMiwgJDMpIFJFVFVSTklORyBvcmRlcl9pZCcsIFt1c2VySWQsIG9yZGVyRGF0ZSwgdG90YWxQcmljZV0pO1xyXG4gIGNvbnN0IG9yZGVySWQgPSBvcmRlclJlc3VsdC5yb3dzWzBdLm9yZGVyX2lkO1xyXG5cclxuICBjYXJ0SXRlbXMuZm9yRWFjaChhc3luYyAoaXRlbSkgPT4ge1xyXG4gICAgYXdhaXQgY2xpZW50LnF1ZXJ5KCdJTlNFUlQgSU5UTyBPcmRlckRldGFpbCAob3JkZXJfaWQsIHByb2R1Y3RfaWQsIHF1YW50aXR5KSBWQUxVRVMgKCQxLCAkMiwgJDMpJywgW29yZGVySWQsIGl0ZW0ucHJvZHVjdF9pZCwgaXRlbS5xdWFudGl0eV0pO1xyXG4gIH0pO1xyXG4gIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiAnQ2hlY2tvdXQgc3VjY2Vzc2Z1bGx5ISd9KTtcclxuICBcclxufSlcclxuXHJcbi8vRm9yIHJlZmVyZW5jZXMgcHVycG9zZVxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy9cclxuYXBwLmdldCgnL2hlbGxvJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMuc2VuZCgnSGVsbG8hJyk7XHJcbn0pO1xyXG5cclxuYXBwLnBvc3QoJy9oZWxsbycsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnNlbmQoYEhlbGxvICR7cmVxLmJvZHkubmFtZX0hYCk7XHJcbn0pO1xyXG5cclxuYXBwLmdldCgnL3hpbmNoYW8vOm5hbWUnLCAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5zZW5kKGBDaMOgbyBlbSBiw6kgJHtyZXEucGFyYW1zLm5hbWV9YClcclxufSk7XHJcblxyXG5hcHAuZ2V0KCcvdGVzdC1kYicsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgXHJcbn0pO1xyXG5cclxuYXBwLmxpc3Rlbig4MDAwLCAoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnU2VydmVyIGlzIGxpc3RlbmluZyBvbiBwb3J0IDgwMDAnKTtcclxufSk7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsV0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBTUcsTUFBTSxHQUFHSCxPQUFPLENBQUUsa0JBQWtCLENBQUM7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUZHLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDLENBQUM7QUFFaEIsSUFBSUMsU0FBUyxHQUFHLEVBQUU7QUFFbEIsSUFBTUMsR0FBRyxHQUFHLElBQUFDLG1CQUFPLEVBQUMsQ0FBQztBQUNyQkQsR0FBRyxDQUFDRSxHQUFHLENBQUNDLHNCQUFVLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDMUJKLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLFNBQVMsRUFBRUQsbUJBQU8sVUFBTyxDQUFDSSxnQkFBSSxDQUFDQyxJQUFJLENBQUNDLFNBQVMsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDOztBQUVyRTtBQUNBUCxHQUFHLENBQUNRLEdBQUcsQ0FBQyxlQUFlLEVBQUUsVUFBQ0MsR0FBRyxFQUFDQyxHQUFHLEVBQUs7RUFDbENiLE1BQU0sQ0FBQ2MsS0FBSyxDQUFDLHdCQUF3QixFQUFFLFVBQUNDLEdBQUcsRUFBRUMsTUFBTSxFQUFLO0lBQ3hELElBQUlELEdBQUcsRUFBRSxNQUFNQSxHQUFHO0lBQ2xCRixHQUFHLENBQUNJLElBQUksQ0FBQ0QsTUFBTSxDQUFDRSxJQUFJLENBQUM7RUFDckIsQ0FBQyxDQUFDO0VBQ0Y7QUFDSixDQUFDLENBQUM7O0FBRUZmLEdBQUcsQ0FBQ1EsR0FBRyxDQUFDLDBCQUEwQjtFQUFBLElBQUFRLElBQUEsT0FBQUMsa0JBQUEsMkJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFFLFNBQUFD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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bodyParser","_path","client","connect","cartItems","app","express","use","bodyParser","json","path","join","__dirname","get","req","res","query","err","result","send","rows","_ref","_asyncToGenerator2","_regenerator","mark","_callee","productId","product","wrap","_callee$","_context","prev","next","params","sent","status","message","stop","_x","_x2","apply","arguments","_ref2","_callee2","userId","customer","customerData","cart","_callee2$","_context2","console","log","_x3","_x4","post","_ref3","_callee3","itemExist","_callee3$","_context3","body","find","product_id","toString","quantity","push","_x5","_x6","filter","_ref4","_callee5","orderDate","totalPrice","orderResult","orderId","_callee5$","_context5","Date","reduce","total","item","Number","price","order_id","forEach","_ref5","_callee4","_callee4$","_context4","_x9","_x7","_x8","concat","name","listen"],"sourceRoot":"C:\\Users\\Admin\\Desktop\\NodeBE\\src\\","sources":["server.js"],"sourcesContent":["import express from \"express\";\r\nimport bodyParser from \"body-parser\";\r\nimport path from \"path\";\r\nconst client = require ('../connection.js');\r\n  \r\n  // export let cartItems = [\r\n  //   products[0],\r\n  //   products[2],\r\n  //   products[3],\r\n  // ];\r\n\r\nclient.connect();\r\n\r\nlet cartItems = [];\r\n\r\nconst app = express();\r\napp.use(bodyParser.json());\r\napp.use('/images', express.static(path.join(__dirname, '../assets')));\r\n\r\n//endpoint for products\r\napp.get('/api/products', (req,res) => {\r\n    client.query('SELECT * FROM products', (err, result) => {\r\n    if (err) throw err;\r\n    res.send(result.rows);\r\n    });\r\n    //res.status(200).json(products);\r\n});\r\n\r\napp.get('/api/products/:productId', async (req,res) => {\r\n    const { productId } = req.params;\r\n    const result = await client.query('SELECT * FROM products WHERE product_id = $1', [productId]);\r\n    //console.log(result)\r\n    const product = result.rows[0];\r\n    if(product) {\r\n        res.status(200).json(product);\r\n    }\r\n    else {\r\n        res.status(404).json({message: 'Product not found!'});\r\n    }\r\n});\r\n\r\n//endpoint for cart\r\napp.get('/api/users/:userId/cart', async (req,res) => {\r\n    const { userId } = req.params;\r\n    const customer = await client.query('SELECT * FROM customers WHERE customer_id = $1', [userId]);\r\n\r\n    const customerData = customer.rows[0];\r\n    //add a temporary cart property to customer, but won't add it to database\r\n    //cart = cartItems;\r\n    customerData.cart = cartItems;\r\n    const cart = customerData.cart || {};\r\n    console.log(cart);\r\n    if (customer) {\r\n      res.status(200).json(customerData);\r\n    }\r\n    else {\r\n      res.status(404).json({ message: 'Customer not found!' });\r\n    }\r\n});\r\n//endpoint for adding product to cart\r\napp.post('/api/users/:userId/cart', async (req,res) => {\r\n  const { productId } = req.body; //productId\r\n  console.log(productId);\r\n  console.log(cartItems);\r\n\r\n  const itemExist = cartItems.find((product) => product.product_id.toString() === productId);\r\n\r\n  console.log(itemExist);\r\n  if(itemExist){ \r\n    itemExist.quantity += 1;\r\n    console.log('already in cart');\r\n    res.status(200).json(cartItems);\r\n  }\r\n  else {\r\n    const result = await client.query('SELECT * FROM products WHERE product_id = $1', [productId]);\r\n    //console.log(result)\r\n    const product = result.rows[0];\r\n    if(product) {\r\n        product.quantity = 1;\r\n        cartItems.push(product); //add product to cart\r\n        res.status(200).json(cartItems);\r\n    }\r\n    else {\r\n        res.status(404).json({message: 'Product not found!'});\r\n    }\r\n  }\r\n});\r\n\r\n//delete from cart\r\napp.delete('/api/users/:userId/cart/:productId', (req,res) => {\r\n     const { productId } = req.params; //productId\r\n     cartItems = cartItems.filter((product) => product.product_id.toString() !== productId);\r\n     res.status(200).json(cartItems);\r\n});\r\n\r\n//checking out from cart\r\napp.post('/api/users/:userId/cart/checkout', async (req,res) => {\r\n  const { userId } = req.params;\r\n  const cartItems = req.body;\r\n  console.log(cartItems);\r\n  const orderDate = new Date();\r\n  const totalPrice = cartItems.reduce((total, item) => total + Number(item.price * item.quantity), 0);\r\n  \r\n  const orderResult = await client.query('INSERT INTO orders (customer_id, order_date, total_price) VALUES ($1, $2, $3) RETURNING order_id', [userId, orderDate, totalPrice]);\r\n  const orderId = orderResult.rows[0].order_id;\r\n\r\n  cartItems.forEach(async (item) => {\r\n    await client.query('INSERT INTO OrderDetail (order_id, product_id, quantity) VALUES ($1, $2, $3)', [orderId, item.product_id, item.quantity]);\r\n  });\r\n  res.status(200).json({message: 'Checkout successfully!'});\r\n  \r\n})\r\n\r\n//For references purpose\r\n//-----------------------------------------------//\r\napp.get('/hello', (req, res) => {\r\n    res.send('Hello!');\r\n});\r\n\r\napp.post('/hello', (req, res) => {\r\n    res.send(`Hello ${req.body.name}!`);\r\n});\r\n\r\napp.get('/xinchao/:name', (req, res) => {\r\n    res.send(`Chào em bé ${req.params.name}`)\r\n});\r\n\r\napp.get('/test-db', (req, res) => {\r\n    \r\n});\r\n\r\napp.listen(8000, () => {\r\n    console.log('Server is listening on port 8000');\r\n});\r\n\r\n"],"mappings":";;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,WAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAMG,MAAM,GAAGH,OAAO,CAAE,kBAAkB,CAAC;;AAEzC;AACA;AACA;AACA;AACA;;AAEFG,MAAM,CAACC,OAAO,CAAC,CAAC;AAEhB,IAAIC,SAAS,GAAG,EAAE;AAElB,IAAMC,GAAG,GAAG,IAAAC,mBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAACC,sBAAU,CAACC,IAAI,CAAC,CAAC,CAAC;AAC1BJ,GAAG,CAACE,GAAG,CAAC,SAAS,EAAED,mBAAO,UAAO,CAACI,gBAAI,CAACC,IAAI,CAACC,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC;;AAErE;AACAP,GAAG,CAACQ,GAAG,CAAC,eAAe,EAAE,UAACC,GAAG,EAACC,GAAG,EAAK;EAClCb,MAAM,CAACc,KAAK,CAAC,wBAAwB,EAAE,UAACC,GAAG,EAAEC,MAAM,EAAK;IACxD,IAAID,GAAG,EAAE,MAAMA,GAAG;IAClBF,GAAG,CAACI,IAAI,CAACD,MAAM,CAACE,IAAI,CAAC;EACrB,CAAC,CAAC;EACF;AACJ,CAAC,CAAC;;AAEFf,GAAG,CAACQ,GAAG,CAAC,0BAA0B;EAAA,IAAAQ,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAE,SAAAC,QAAOX,GAAG,EAACC,GAAG;IAAA,IAAAW,SAAA,EAAAR,MAAA,EAAAS,OAAA;IAAA,OAAAJ,YAAA,YAAAK,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UACtCN,SAAS,GAAKZ,GAAG,CAACmB,MAAM,CAAxBP,SAAS;UAAAI,QAAA,CAAAE,IAAA;UAAA,OACI9B,MAAM,CAACc,KAAK,CAAC,8CAA8C,EAAE,CAACU,SAAS,CAAC,CAAC;QAAA;UAAxFR,MAAM,GAAAY,QAAA,CAAAI,IAAA;UACZ;UACMP,OAAO,GAAGT,MAAM,CAACE,IAAI,CAAC,CAAC,CAAC;UAC9B,IAAGO,OAAO,EAAE;YACRZ,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAAC1B,IAAI,CAACkB,OAAO,CAAC;UACjC,CAAC,MACI;YACDZ,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAAC1B,IAAI,CAAC;cAAC2B,OAAO,EAAE;YAAoB,CAAC,CAAC;UACzD;QAAC;QAAA;UAAA,OAAAN,QAAA,CAAAO,IAAA;MAAA;IAAA,GAAAZ,OAAA;EAAA,CACJ;EAAA,iBAAAa,EAAA,EAAAC,GAAA;IAAA,OAAAlB,IAAA,CAAAmB,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;;AAEF;AACApC,GAAG,CAACQ,GAAG,CAAC,yBAAyB;EAAA,IAAA6B,KAAA,OAAApB,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAE,SAAAmB,SAAO7B,GAAG,EAACC,GAAG;IAAA,IAAA6B,MAAA,EAAAC,QAAA,EAAAC,YAAA,EAAAC,IAAA;IAAA,OAAAxB,YAAA,YAAAK,IAAA,UAAAoB,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAlB,IAAA,GAAAkB,SAAA,CAAAjB,IAAA;QAAA;UACrCY,MAAM,GAAK9B,GAAG,CAACmB,MAAM,CAArBW,MAAM;UAAAK,SAAA,CAAAjB,IAAA;UAAA,OACS9B,MAAM,CAACc,KAAK,CAAC,gDAAgD,EAAE,CAAC4B,MAAM,CAAC,CAAC;QAAA;UAAzFC,QAAQ,GAAAI,SAAA,CAAAf,IAAA;UAERY,YAAY,GAAGD,QAAQ,CAACzB,IAAI,CAAC,CAAC,CAAC,EACrC;UACA;UACA0B,YAAY,CAACC,IAAI,GAAG3C,SAAS;UACvB2C,IAAI,GAAGD,YAAY,CAACC,IAAI,IAAI,CAAC,CAAC;UACpCG,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC;UACjB,IAAIF,QAAQ,EAAE;YACZ9B,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAAC1B,IAAI,CAACqC,YAAY,CAAC;UACpC,CAAC,MACI;YACH/B,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAAC1B,IAAI,CAAC;cAAE2B,OAAO,EAAE;YAAsB,CAAC,CAAC;UAC1D;QAAC;QAAA;UAAA,OAAAa,SAAA,CAAAZ,IAAA;MAAA;IAAA,GAAAM,QAAA;EAAA,CACJ;EAAA,iBAAAS,GAAA,EAAAC,GAAA;IAAA,OAAAX,KAAA,CAAAF,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;AACF;AACApC,GAAG,CAACiD,IAAI,CAAC,yBAAyB;EAAA,IAAAC,KAAA,OAAAjC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAE,SAAAgC,SAAO1C,GAAG,EAACC,GAAG;IAAA,IAAAW,SAAA,EAAA+B,SAAA,EAAAvC,MAAA,EAAAS,OAAA;IAAA,OAAAJ,YAAA,YAAAK,IAAA,UAAA8B,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAA5B,IAAA,GAAA4B,SAAA,CAAA3B,IAAA;QAAA;UACxCN,SAAS,GAAKZ,GAAG,CAAC8C,IAAI,CAAtBlC,SAAS,EAAe;UAChCwB,OAAO,CAACC,GAAG,CAACzB,SAAS,CAAC;UACtBwB,OAAO,CAACC,GAAG,CAAC/C,SAAS,CAAC;UAEhBqD,SAAS,GAAGrD,SAAS,CAACyD,IAAI,CAAC,UAAClC,OAAO;YAAA,OAAKA,OAAO,CAACmC,UAAU,CAACC,QAAQ,CAAC,CAAC,KAAKrC,SAAS;UAAA,EAAC;UAE1FwB,OAAO,CAACC,GAAG,CAACM,SAAS,CAAC;UAAC,KACpBA,SAAS;YAAAE,SAAA,CAAA3B,IAAA;YAAA;UAAA;UACVyB,SAAS,CAACO,QAAQ,IAAI,CAAC;UACvBd,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;UAC9BpC,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAAC1B,IAAI,CAACL,SAAS,CAAC;UAACuD,SAAA,CAAA3B,IAAA;UAAA;QAAA;UAAA2B,SAAA,CAAA3B,IAAA;UAAA,OAGX9B,MAAM,CAACc,KAAK,CAAC,8CAA8C,EAAE,CAACU,SAAS,CAAC,CAAC;QAAA;UAAxFR,MAAM,GAAAyC,SAAA,CAAAzB,IAAA;UACZ;UACMP,OAAO,GAAGT,MAAM,CAACE,IAAI,CAAC,CAAC,CAAC;UAC9B,IAAGO,OAAO,EAAE;YACRA,OAAO,CAACqC,QAAQ,GAAG,CAAC;YACpB5D,SAAS,CAAC6D,IAAI,CAACtC,OAAO,CAAC,CAAC,CAAC;YACzBZ,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAAC1B,IAAI,CAACL,SAAS,CAAC;UACnC,CAAC,MACI;YACDW,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAAC1B,IAAI,CAAC;cAAC2B,OAAO,EAAE;YAAoB,CAAC,CAAC;UACzD;QAAC;QAAA;UAAA,OAAAuB,SAAA,CAAAtB,IAAA;MAAA;IAAA,GAAAmB,QAAA;EAAA,CAEJ;EAAA,iBAAAU,GAAA,EAAAC,GAAA;IAAA,OAAAZ,KAAA,CAAAf,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;;AAEF;AACApC,GAAG,UAAO,CAAC,oCAAoC,EAAE,UAACS,GAAG,EAACC,GAAG,EAAK;EACzD,IAAQW,SAAS,GAAKZ,GAAG,CAACmB,MAAM,CAAxBP,SAAS,CAAgB,CAAC;EAClCtB,SAAS,GAAGA,SAAS,CAACgE,MAAM,CAAC,UAACzC,OAAO;IAAA,OAAKA,OAAO,CAACmC,UAAU,CAACC,QAAQ,CAAC,CAAC,KAAKrC,SAAS;EAAA,EAAC;EACtFX,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAAC1B,IAAI,CAACL,SAAS,CAAC;AACpC,CAAC,CAAC;;AAEF;AACAC,GAAG,CAACiD,IAAI,CAAC,kCAAkC;EAAA,IAAAe,KAAA,OAAA/C,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAE,SAAA8C,SAAOxD,GAAG,EAACC,GAAG;IAAA,IAAA6B,MAAA,EAAAxC,SAAA,EAAAmE,SAAA,EAAAC,UAAA,EAAAC,WAAA,EAAAC,OAAA;IAAA,OAAAnD,YAAA,YAAAK,IAAA,UAAA+C,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAA7C,IAAA,GAAA6C,SAAA,CAAA5C,IAAA;QAAA;UACjDY,MAAM,GAAK9B,GAAG,CAACmB,MAAM,CAArBW,MAAM;UACRxC,SAAS,GAAGU,GAAG,CAAC8C,IAAI;UAC1BV,OAAO,CAACC,GAAG,CAAC/C,SAAS,CAAC;UAChBmE,SAAS,GAAG,IAAIM,IAAI,CAAC,CAAC;UACtBL,UAAU,GAAGpE,SAAS,CAAC0E,MAAM,CAAC,UAACC,KAAK,EAAEC,IAAI;YAAA,OAAKD,KAAK,GAAGE,MAAM,CAACD,IAAI,CAACE,KAAK,GAAGF,IAAI,CAAChB,QAAQ,CAAC;UAAA,GAAE,CAAC,CAAC;UAAAY,SAAA,CAAA5C,IAAA;UAAA,OAEzE9B,MAAM,CAACc,KAAK,CAAC,kGAAkG,EAAE,CAAC4B,MAAM,EAAE2B,SAAS,EAAEC,UAAU,CAAC,CAAC;QAAA;UAArKC,WAAW,GAAAG,SAAA,CAAA1C,IAAA;UACXwC,OAAO,GAAGD,WAAW,CAACrD,IAAI,CAAC,CAAC,CAAC,CAAC+D,QAAQ;UAE5C/E,SAAS,CAACgF,OAAO;YAAA,IAAAC,KAAA,OAAA/D,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAC,SAAA8D,SAAON,IAAI;cAAA,OAAAzD,YAAA,YAAAK,IAAA,UAAA2D,UAAAC,SAAA;gBAAA,kBAAAA,SAAA,CAAAzD,IAAA,GAAAyD,SAAA,CAAAxD,IAAA;kBAAA;oBAAAwD,SAAA,CAAAxD,IAAA;oBAAA,OACrB9B,MAAM,CAACc,KAAK,CAAC,8EAA8E,EAAE,CAAC0D,OAAO,EAAEM,IAAI,CAAClB,UAAU,EAAEkB,IAAI,CAAChB,QAAQ,CAAC,CAAC;kBAAA;kBAAA;oBAAA,OAAAwB,SAAA,CAAAnD,IAAA;gBAAA;cAAA,GAAAiD,QAAA;YAAA,CAC9I;YAAA,iBAAAG,GAAA;cAAA,OAAAJ,KAAA,CAAA7C,KAAA,OAAAC,SAAA;YAAA;UAAA,IAAC;UACF1B,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAAC1B,IAAI,CAAC;YAAC2B,OAAO,EAAE;UAAwB,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAwC,SAAA,CAAAvC,IAAA;MAAA;IAAA,GAAAiC,QAAA;EAAA,CAE3D;EAAA,iBAAAoB,GAAA,EAAAC,GAAA;IAAA,OAAAtB,KAAA,CAAA7B,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;;AAEF;AACA;AACApC,GAAG,CAACQ,GAAG,CAAC,QAAQ,EAAE,UAACC,GAAG,EAAEC,GAAG,EAAK;EAC5BA,GAAG,CAACI,IAAI,CAAC,QAAQ,CAAC;AACtB,CAAC,CAAC;AAEFd,GAAG,CAACiD,IAAI,CAAC,QAAQ,EAAE,UAACxC,GAAG,EAAEC,GAAG,EAAK;EAC7BA,GAAG,CAACI,IAAI,UAAAyE,MAAA,CAAU9E,GAAG,CAAC8C,IAAI,CAACiC,IAAI,MAAG,CAAC;AACvC,CAAC,CAAC;AAEFxF,GAAG,CAACQ,GAAG,CAAC,gBAAgB,EAAE,UAACC,GAAG,EAAEC,GAAG,EAAK;EACpCA,GAAG,CAACI,IAAI,qBAAAyE,MAAA,CAAe9E,GAAG,CAACmB,MAAM,CAAC4D,IAAI,CAAE,CAAC;AAC7C,CAAC,CAAC;AAEFxF,GAAG,CAACQ,GAAG,CAAC,UAAU,EAAE,UAACC,GAAG,EAAEC,GAAG,EAAK,CAElC,CAAC,CAAC;AAEFV,GAAG,CAACyF,MAAM,CAAC,IAAI,EAAE,YAAM;EACnB5C,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;AACnD,CAAC,CAAC"}},"mtime":1689002552814},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\NodeBE\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\NodeBE\",\"filename\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\NodeBE\\\\connection.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\NodeBE\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.22.8:development":{"value":{"code":"const {\n  Client\n} = require('pg');\nconst client = new Client({\n  host: 'localhost',\n  port: 5432,\n  user: 'postgres',\n  password: '12345',\n  database: 'ShopDatabase'\n});\nmodule.exports = client;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDbGllbnQiLCJyZXF1aXJlIiwiY2xpZW50IiwiaG9zdCIsInBvcnQiLCJ1c2VyIiwicGFzc3dvcmQiLCJkYXRhYmFzZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQWRtaW5cXERlc2t0b3BcXE5vZGVCRVxcIiwic291cmNlcyI6WyJjb25uZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgQ2xpZW50IH0gPSByZXF1aXJlKCdwZycpO1xyXG5cclxuY29uc3QgY2xpZW50ID0gbmV3IENsaWVudCh7XHJcbiBob3N0OiAnbG9jYWxob3N0JyxcclxuIHBvcnQ6IDU0MzIsXHJcbiB1c2VyOiAncG9zdGdyZXMnLFxyXG4gcGFzc3dvcmQ6ICcxMjM0NScsXHJcbiBkYXRhYmFzZTogJ1Nob3BEYXRhYmFzZSdcclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGNsaWVudDsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07RUFBRUE7QUFBTyxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFFaEMsTUFBTUMsTUFBTSxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUN6QkcsSUFBSSxFQUFFLFdBQVc7RUFDakJDLElBQUksRUFBRSxJQUFJO0VBQ1ZDLElBQUksRUFBRSxVQUFVO0VBQ2hCQyxRQUFRLEVBQUUsT0FBTztFQUNqQkMsUUFBUSxFQUFFO0FBQ1gsQ0FBQyxDQUFDO0FBRUZDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHUCxNQUFNIn0=","map":{"version":3,"names":["Client","require","client","host","port","user","password","database","module","exports"],"sourceRoot":"C:\\Users\\Admin\\Desktop\\NodeBE\\","sources":["connection.js"],"sourcesContent":["const { Client } = require('pg');\r\n\r\nconst client = new Client({\r\n host: 'localhost',\r\n port: 5432,\r\n user: 'postgres',\r\n password: '12345',\r\n database: 'ShopDatabase'\r\n});\r\n\r\nmodule.exports = client;"],"mappings":"AAAA,MAAM;EAAEA;AAAO,CAAC,GAAGC,OAAO,CAAC,IAAI,CAAC;AAEhC,MAAMC,MAAM,GAAG,IAAIF,MAAM,CAAC;EACzBG,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,IAAI;EACVC,IAAI,EAAE,UAAU;EAChBC,QAAQ,EAAE,OAAO;EACjBC,QAAQ,EAAE;AACX,CAAC,CAAC;AAEFC,MAAM,CAACC,OAAO,GAAGP,MAAM"}},"mtime":1688922584392},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\NoTung\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\NoTung\\\\server\",\"filename\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\NoTung\\\\server\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\NoTung\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar client = require('../connection.js');\n\n// export let cartItems = [\n//   products[0],\n//   products[2],\n//   products[3],\n// ];\n\nclient.connect();\nvar cartItems = [];\nvar app = (0, _express[\"default\"])();\napp.use(_bodyParser[\"default\"].json());\napp.use('/images', _express[\"default\"][\"static\"](_path[\"default\"].join(__dirname, '../assets')));\n\n//endpoint for products\napp.get('/api/products', function (req, res) {\n  client.query('SELECT * FROM products', function (err, result) {\n    if (err) throw err;\n    res.send(result.rows);\n  });\n  //res.status(200).json(products);\n});\n\napp.get('/api/products/:productId', /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var productId, result, product;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          productId = req.params.productId;\n          _context.next = 3;\n          return client.query('SELECT * FROM products WHERE product_id = $1', [productId]);\n        case 3:\n          result = _context.sent;\n          //console.log(result)\n          product = result.rows[0];\n          if (product) {\n            res.status(200).json(product);\n          } else {\n            res.status(404).json({\n              message: 'Product not found!'\n            });\n          }\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n//endpoint for cart\napp.get('/api/users/:userId/cart', /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var userId, customer, customerData, cart;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          userId = req.params.userId;\n          _context2.next = 3;\n          return client.query('SELECT * FROM customers WHERE customer_id = $1', [userId]);\n        case 3:\n          customer = _context2.sent;\n          customerData = customer.rows[0]; //add a temporary cart property to customer, but won't add it to database\n          //cart = cartItems;\n          customerData.cart = cartItems;\n          cart = customerData.cart || {};\n          console.log(cart);\n          if (customer) {\n            res.status(200).json(customerData);\n          } else {\n            res.status(404).json({\n              message: 'Customer not found!'\n            });\n          }\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n//endpoint for adding product to cart\napp.post('/api/users/:userId/cart', /*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    var productId, itemExist, result, product;\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          productId = req.body.productId; //productId\n          console.log(productId);\n          console.log(cartItems);\n          itemExist = cartItems.find(function (product) {\n            return product.product_id.toString() === productId;\n          });\n          console.log(itemExist);\n          if (!itemExist) {\n            _context3.next = 11;\n            break;\n          }\n          itemExist.quantity += 1;\n          console.log('already in cart');\n          res.status(200).json(cartItems);\n          _context3.next = 16;\n          break;\n        case 11:\n          _context3.next = 13;\n          return client.query('SELECT * FROM products WHERE product_id = $1', [productId]);\n        case 13:\n          result = _context3.sent;\n          //console.log(result)\n          product = result.rows[0];\n          if (product) {\n            product.quantity = 1;\n            cartItems.push(product); //add product to cart\n            res.status(200).json(cartItems);\n          } else {\n            res.status(404).json({\n              message: 'Product not found!'\n            });\n          }\n        case 16:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n//delete from cart\napp[\"delete\"]('/api/users/:userId/cart/:productId', function (req, res) {\n  var productId = req.params.productId; //productId\n  cartItems = cartItems.filter(function (product) {\n    return product.product_id.toString() !== productId;\n  });\n  res.status(200).json(cartItems);\n});\n\n//checking out from cart\napp.post('/api/users/:userId/cart/checkout', /*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var userId, cartItems, orderDate, totalPrice, orderResult, orderId;\n    return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          userId = req.params.userId;\n          cartItems = req.body;\n          console.log(cartItems);\n          orderDate = new Date();\n          totalPrice = cartItems.reduce(function (total, item) {\n            return total + Number(item.price * item.quantity);\n          }, 0);\n          _context5.next = 7;\n          return client.query('INSERT INTO orders (customer_id, order_date, total_price) VALUES ($1, $2, $3) RETURNING order_id', [userId, orderDate, totalPrice]);\n        case 7:\n          orderResult = _context5.sent;\n          orderId = orderResult.rows[0].order_id;\n          cartItems.forEach( /*#__PURE__*/function () {\n            var _ref5 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(item) {\n              return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n                while (1) switch (_context4.prev = _context4.next) {\n                  case 0:\n                    _context4.next = 2;\n                    return client.query('INSERT INTO OrderDetail (order_id, product_id, quantity) VALUES ($1, $2, $3)', [orderId, item.product_id, item.quantity]);\n                  case 2:\n                  case \"end\":\n                    return _context4.stop();\n                }\n              }, _callee4);\n            }));\n            return function (_x9) {\n              return _ref5.apply(this, arguments);\n            };\n          }());\n          res.status(200).json({\n            message: 'Checkout successfully!'\n          });\n        case 11:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n\n//For references purpose\n//-----------------------------------------------//\napp.get('/hello', function (req, res) {\n  res.send('Hello!');\n});\napp.post('/hello', function (req, res) {\n  res.send(\"Hello \".concat(req.body.name, \"!\"));\n});\napp.get('/xinchao/:name', function (req, res) {\n  res.send(\"Ch\\xE0o em b\\xE9 \".concat(req.params.name));\n});\napp.get('/test-db', function (req, res) {});\napp.listen(8000, function () {\n  console.log('Server is listening on port 8000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JvZHlQYXJzZXIiLCJfcGF0aCIsImNsaWVudCIsImNvbm5lY3QiLCJjYXJ0SXRlbXMiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImdldCIsInJlcSIsInJlcyIsInF1ZXJ5IiwiZXJyIiwicmVzdWx0Iiwic2VuZCIsInJvd3MiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJwcm9kdWN0SWQiLCJwcm9kdWN0Iiwid3JhcCIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsInBhcmFtcyIsInNlbnQiLCJzdGF0dXMiLCJtZXNzYWdlIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfcmVmMiIsIl9jYWxsZWUyIiwidXNlcklkIiwiY3VzdG9tZXIiLCJjdXN0b21lckRhdGEiLCJjYXJ0IiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiY29uc29sZSIsImxvZyIsIl94MyIsIl94NCIsInBvc3QiLCJfcmVmMyIsIl9jYWxsZWUzIiwiaXRlbUV4aXN0IiwiX2NhbGxlZTMkIiwiX2NvbnRleHQzIiwiYm9keSIsImZpbmQiLCJwcm9kdWN0X2lkIiwidG9TdHJpbmciLCJxdWFudGl0eSIsInB1c2giLCJfeDUiLCJfeDYiLCJmaWx0ZXIiLCJfcmVmNCIsIl9jYWxsZWU1Iiwib3JkZXJEYXRlIiwidG90YWxQcmljZSIsIm9yZGVyUmVzdWx0Iiwib3JkZXJJZCIsIl9jYWxsZWU1JCIsIl9jb250ZXh0NSIsIkRhdGUiLCJyZWR1Y2UiLCJ0b3RhbCIsIml0ZW0iLCJOdW1iZXIiLCJwcmljZSIsIm9yZGVyX2lkIiwiZm9yRWFjaCIsIl9yZWY1IiwiX2NhbGxlZTQiLCJfY2FsbGVlNCQiLCJfY29udGV4dDQiLCJfeDkiLCJfeDciLCJfeDgiLCJjb25jYXQiLCJuYW1lIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEFkbWluXFxEZXNrdG9wXFxOb1R1bmdcXHNlcnZlclxcc3JjXFwiLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tIFwiYm9keS1wYXJzZXJcIjtcclxuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcclxuY29uc3QgY2xpZW50ID0gcmVxdWlyZSAoJy4uL2Nvbm5lY3Rpb24uanMnKTtcclxuICBcclxuICAvLyBleHBvcnQgbGV0IGNhcnRJdGVtcyA9IFtcclxuICAvLyAgIHByb2R1Y3RzWzBdLFxyXG4gIC8vICAgcHJvZHVjdHNbMl0sXHJcbiAgLy8gICBwcm9kdWN0c1szXSxcclxuICAvLyBdO1xyXG5cclxuY2xpZW50LmNvbm5lY3QoKTtcclxuXHJcbmxldCBjYXJ0SXRlbXMgPSBbXTtcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XHJcbmFwcC51c2UoJy9pbWFnZXMnLCBleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vYXNzZXRzJykpKTtcclxuXHJcbi8vZW5kcG9pbnQgZm9yIHByb2R1Y3RzXHJcbmFwcC5nZXQoJy9hcGkvcHJvZHVjdHMnLCAocmVxLHJlcykgPT4ge1xyXG4gICAgY2xpZW50LnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIHByb2R1Y3RzJywgKGVyciwgcmVzdWx0KSA9PiB7XHJcbiAgICBpZiAoZXJyKSB0aHJvdyBlcnI7XHJcbiAgICByZXMuc2VuZChyZXN1bHQucm93cyk7XHJcbiAgICB9KTtcclxuICAgIC8vcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdHMpO1xyXG59KTtcclxuXHJcbmFwcC5nZXQoJy9hcGkvcHJvZHVjdHMvOnByb2R1Y3RJZCcsIGFzeW5jIChyZXEscmVzKSA9PiB7XHJcbiAgICBjb25zdCB7IHByb2R1Y3RJZCB9ID0gcmVxLnBhcmFtcztcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5xdWVyeSgnU0VMRUNUICogRlJPTSBwcm9kdWN0cyBXSEVSRSBwcm9kdWN0X2lkID0gJDEnLCBbcHJvZHVjdElkXSk7XHJcbiAgICAvL2NvbnNvbGUubG9nKHJlc3VsdClcclxuICAgIGNvbnN0IHByb2R1Y3QgPSByZXN1bHQucm93c1swXTtcclxuICAgIGlmKHByb2R1Y3QpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihwcm9kdWN0KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiAnUHJvZHVjdCBub3QgZm91bmQhJ30pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vZW5kcG9pbnQgZm9yIGNhcnRcclxuYXBwLmdldCgnL2FwaS91c2Vycy86dXNlcklkL2NhcnQnLCBhc3luYyAocmVxLHJlcykgPT4ge1xyXG4gICAgY29uc3QgeyB1c2VySWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBjb25zdCBjdXN0b21lciA9IGF3YWl0IGNsaWVudC5xdWVyeSgnU0VMRUNUICogRlJPTSBjdXN0b21lcnMgV0hFUkUgY3VzdG9tZXJfaWQgPSAkMScsIFt1c2VySWRdKTtcclxuXHJcbiAgICBjb25zdCBjdXN0b21lckRhdGEgPSBjdXN0b21lci5yb3dzWzBdO1xyXG4gICAgLy9hZGQgYSB0ZW1wb3JhcnkgY2FydCBwcm9wZXJ0eSB0byBjdXN0b21lciwgYnV0IHdvbid0IGFkZCBpdCB0byBkYXRhYmFzZVxyXG4gICAgLy9jYXJ0ID0gY2FydEl0ZW1zO1xyXG4gICAgY3VzdG9tZXJEYXRhLmNhcnQgPSBjYXJ0SXRlbXM7XHJcbiAgICBjb25zdCBjYXJ0ID0gY3VzdG9tZXJEYXRhLmNhcnQgfHwge307XHJcbiAgICBjb25zb2xlLmxvZyhjYXJ0KTtcclxuICAgIGlmIChjdXN0b21lcikge1xyXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjdXN0b21lckRhdGEpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ0N1c3RvbWVyIG5vdCBmb3VuZCEnIH0pO1xyXG4gICAgfVxyXG59KTtcclxuLy9lbmRwb2ludCBmb3IgYWRkaW5nIHByb2R1Y3QgdG8gY2FydFxyXG5hcHAucG9zdCgnL2FwaS91c2Vycy86dXNlcklkL2NhcnQnLCBhc3luYyAocmVxLHJlcykgPT4ge1xyXG4gIGNvbnN0IHsgcHJvZHVjdElkIH0gPSByZXEuYm9keTsgLy9wcm9kdWN0SWRcclxuICBjb25zb2xlLmxvZyhwcm9kdWN0SWQpO1xyXG4gIGNvbnNvbGUubG9nKGNhcnRJdGVtcyk7XHJcblxyXG4gIGNvbnN0IGl0ZW1FeGlzdCA9IGNhcnRJdGVtcy5maW5kKChwcm9kdWN0KSA9PiBwcm9kdWN0LnByb2R1Y3RfaWQudG9TdHJpbmcoKSA9PT0gcHJvZHVjdElkKTtcclxuXHJcbiAgY29uc29sZS5sb2coaXRlbUV4aXN0KTtcclxuICBpZihpdGVtRXhpc3QpeyBcclxuICAgIGl0ZW1FeGlzdC5xdWFudGl0eSArPSAxO1xyXG4gICAgY29uc29sZS5sb2coJ2FscmVhZHkgaW4gY2FydCcpO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oY2FydEl0ZW1zKTtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQucXVlcnkoJ1NFTEVDVCAqIEZST00gcHJvZHVjdHMgV0hFUkUgcHJvZHVjdF9pZCA9ICQxJywgW3Byb2R1Y3RJZF0pO1xyXG4gICAgLy9jb25zb2xlLmxvZyhyZXN1bHQpXHJcbiAgICBjb25zdCBwcm9kdWN0ID0gcmVzdWx0LnJvd3NbMF07XHJcbiAgICBpZihwcm9kdWN0KSB7XHJcbiAgICAgICAgcHJvZHVjdC5xdWFudGl0eSA9IDE7XHJcbiAgICAgICAgY2FydEl0ZW1zLnB1c2gocHJvZHVjdCk7IC8vYWRkIHByb2R1Y3QgdG8gY2FydFxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGNhcnRJdGVtcyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7bWVzc2FnZTogJ1Byb2R1Y3Qgbm90IGZvdW5kISd9KTtcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxuLy9kZWxldGUgZnJvbSBjYXJ0XHJcbmFwcC5kZWxldGUoJy9hcGkvdXNlcnMvOnVzZXJJZC9jYXJ0Lzpwcm9kdWN0SWQnLCAocmVxLHJlcykgPT4ge1xyXG4gICAgIGNvbnN0IHsgcHJvZHVjdElkIH0gPSByZXEucGFyYW1zOyAvL3Byb2R1Y3RJZFxyXG4gICAgIGNhcnRJdGVtcyA9IGNhcnRJdGVtcy5maWx0ZXIoKHByb2R1Y3QpID0+IHByb2R1Y3QucHJvZHVjdF9pZC50b1N0cmluZygpICE9PSBwcm9kdWN0SWQpO1xyXG4gICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGNhcnRJdGVtcyk7XHJcbn0pO1xyXG5cclxuLy9jaGVja2luZyBvdXQgZnJvbSBjYXJ0XHJcbmFwcC5wb3N0KCcvYXBpL3VzZXJzLzp1c2VySWQvY2FydC9jaGVja291dCcsIGFzeW5jIChyZXEscmVzKSA9PiB7XHJcbiAgY29uc3QgeyB1c2VySWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgY29uc3QgY2FydEl0ZW1zID0gcmVxLmJvZHk7XHJcbiAgY29uc29sZS5sb2coY2FydEl0ZW1zKTtcclxuICBjb25zdCBvcmRlckRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gIGNvbnN0IHRvdGFsUHJpY2UgPSBjYXJ0SXRlbXMucmVkdWNlKCh0b3RhbCwgaXRlbSkgPT4gdG90YWwgKyBOdW1iZXIoaXRlbS5wcmljZSAqIGl0ZW0ucXVhbnRpdHkpLCAwKTtcclxuICBcclxuICBjb25zdCBvcmRlclJlc3VsdCA9IGF3YWl0IGNsaWVudC5xdWVyeSgnSU5TRVJUIElOVE8gb3JkZXJzIChjdXN0b21lcl9pZCwgb3JkZXJfZGF0ZSwgdG90YWxfcHJpY2UpIFZBTFVFUyAoJDEsICQyLCAkMykgUkVUVVJOSU5HIG9yZGVyX2lkJywgW3VzZXJJZCwgb3JkZXJEYXRlLCB0b3RhbFByaWNlXSk7XHJcbiAgY29uc3Qgb3JkZXJJZCA9IG9yZGVyUmVzdWx0LnJvd3NbMF0ub3JkZXJfaWQ7XHJcblxyXG4gIGNhcnRJdGVtcy5mb3JFYWNoKGFzeW5jIChpdGVtKSA9PiB7XHJcbiAgICBhd2FpdCBjbGllbnQucXVlcnkoJ0lOU0VSVCBJTlRPIE9yZGVyRGV0YWlsIChvcmRlcl9pZCwgcHJvZHVjdF9pZCwgcXVhbnRpdHkpIFZBTFVFUyAoJDEsICQyLCAkMyknLCBbb3JkZXJJZCwgaXRlbS5wcm9kdWN0X2lkLCBpdGVtLnF1YW50aXR5XSk7XHJcbiAgfSk7XHJcbiAgcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6ICdDaGVja291dCBzdWNjZXNzZnVsbHkhJ30pO1xyXG4gIFxyXG59KVxyXG5cclxuLy9Gb3IgcmVmZXJlbmNlcyBwdXJwb3NlXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xyXG5hcHAuZ2V0KCcvaGVsbG8nLCAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5zZW5kKCdIZWxsbyEnKTtcclxufSk7XHJcblxyXG5hcHAucG9zdCgnL2hlbGxvJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMuc2VuZChgSGVsbG8gJHtyZXEuYm9keS5uYW1lfSFgKTtcclxufSk7XHJcblxyXG5hcHAuZ2V0KCcveGluY2hhby86bmFtZScsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnNlbmQoYENow6BvIGVtIGLDqSAke3JlcS5wYXJhbXMubmFtZX1gKVxyXG59KTtcclxuXHJcbmFwcC5nZXQoJy90ZXN0LWRiJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBcclxufSk7XHJcblxyXG5hcHAubGlzdGVuKDgwMDAsICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXIgaXMgbGlzdGVuaW5nIG9uIHBvcnQgODAwMCcpO1xyXG59KTtcclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxXQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFNRyxNQUFNLEdBQUdILE9BQU8sQ0FBRSxrQkFBa0IsQ0FBQzs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFRkcsTUFBTSxDQUFDQyxPQUFPLENBQUMsQ0FBQztBQUVoQixJQUFJQyxTQUFTLEdBQUcsRUFBRTtBQUVsQixJQUFNQyxHQUFHLEdBQUcsSUFBQUMsbUJBQU8sRUFBQyxDQUFDO0FBQ3JCRCxHQUFHLENBQUNFLEdBQUcsQ0FBQ0Msc0JBQVUsQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUMxQkosR0FBRyxDQUFDRSxHQUFHLENBQUMsU0FBUyxFQUFFRCxtQkFBTyxVQUFPLENBQUNJLGdCQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUM7O0FBRXJFO0FBQ0FQLEdBQUcsQ0FBQ1EsR0FBRyxDQUFDLGVBQWUsRUFBRSxVQUFDQyxHQUFHLEVBQUNDLEdBQUcsRUFBSztFQUNsQ2IsTUFBTSxDQUFDYyxLQUFLLENBQUMsd0JBQXdCLEVBQUUsVUFBQ0MsR0FBRyxFQUFFQyxNQUFNLEVBQUs7SUFDeEQsSUFBSUQsR0FBRyxFQUFFLE1BQU1BLEdBQUc7SUFDbEJGLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDRCxNQUFNLENBQUNFLElBQUksQ0FBQztFQUNyQixDQUFDLENBQUM7RUFDRjtBQUNKLENBQUMsQ0FBQzs7QUFFRmYsR0FBRyxDQUFDUSxHQUFHLENBQUMsMEJBQTBCO0VBQUEsSUFBQVEsSUFBQSxPQUFBQyxrQkFBQSwyQkFBQUMsWUFBQSxZQUFBQyxJQUFBLENB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bodyParser","_path","client","connect","cartItems","app","express","use","bodyParser","json","path","join","__dirname","get","req","res","query","err","result","send","rows","_ref","_asyncToGenerator2","_regenerator","mark","_callee","productId","product","wrap","_callee$","_context","prev","next","params","sent","status","message","stop","_x","_x2","apply","arguments","_ref2","_callee2","userId","customer","customerData","cart","_callee2$","_context2","console","log","_x3","_x4","post","_ref3","_callee3","itemExist","_callee3$","_context3","body","find","product_id","toString","quantity","push","_x5","_x6","filter","_ref4","_callee5","orderDate","totalPrice","orderResult","orderId","_callee5$","_context5","Date","reduce","total","item","Number","price","order_id","forEach","_ref5","_callee4","_callee4$","_context4","_x9","_x7","_x8","concat","name","listen"],"sourceRoot":"C:\\Users\\Admin\\Desktop\\NoTung\\server\\src\\","sources":["server.js"],"sourcesContent":["import express from \"express\";\r\nimport bodyParser from \"body-parser\";\r\nimport path from \"path\";\r\nconst client = require ('../connection.js');\r\n  \r\n  // export let cartItems = [\r\n  //   products[0],\r\n  //   products[2],\r\n  //   products[3],\r\n  // ];\r\n\r\nclient.connect();\r\n\r\nlet cartItems = [];\r\n\r\nconst app = express();\r\napp.use(bodyParser.json());\r\napp.use('/images', express.static(path.join(__dirname, '../assets')));\r\n\r\n//endpoint for products\r\napp.get('/api/products', (req,res) => {\r\n    client.query('SELECT * FROM products', (err, result) => {\r\n    if (err) throw err;\r\n    res.send(result.rows);\r\n    });\r\n    //res.status(200).json(products);\r\n});\r\n\r\napp.get('/api/products/:productId', async (req,res) => {\r\n    const { productId } = req.params;\r\n    const result = await client.query('SELECT * FROM products WHERE product_id = $1', [productId]);\r\n    //console.log(result)\r\n    const product = result.rows[0];\r\n    if(product) {\r\n        res.status(200).json(product);\r\n    }\r\n    else {\r\n        res.status(404).json({message: 'Product not found!'});\r\n    }\r\n});\r\n\r\n//endpoint for cart\r\napp.get('/api/users/:userId/cart', async (req,res) => {\r\n    const { userId } = req.params;\r\n    const customer = await client.query('SELECT * FROM customers WHERE customer_id = $1', [userId]);\r\n\r\n    const customerData = customer.rows[0];\r\n    //add a temporary cart property to customer, but won't add it to database\r\n    //cart = cartItems;\r\n    customerData.cart = cartItems;\r\n    const cart = customerData.cart || {};\r\n    console.log(cart);\r\n    if (customer) {\r\n      res.status(200).json(customerData);\r\n    }\r\n    else {\r\n      res.status(404).json({ message: 'Customer not found!' });\r\n    }\r\n});\r\n//endpoint for adding product to cart\r\napp.post('/api/users/:userId/cart', async (req,res) => {\r\n  const { productId } = req.body; //productId\r\n  console.log(productId);\r\n  console.log(cartItems);\r\n\r\n  const itemExist = cartItems.find((product) => product.product_id.toString() === productId);\r\n\r\n  console.log(itemExist);\r\n  if(itemExist){ \r\n    itemExist.quantity += 1;\r\n    console.log('already in cart');\r\n    res.status(200).json(cartItems);\r\n  }\r\n  else {\r\n    const result = await client.query('SELECT * FROM products WHERE product_id = $1', [productId]);\r\n    //console.log(result)\r\n    const product = result.rows[0];\r\n    if(product) {\r\n        product.quantity = 1;\r\n        cartItems.push(product); //add product to cart\r\n        res.status(200).json(cartItems);\r\n    }\r\n    else {\r\n        res.status(404).json({message: 'Product not found!'});\r\n    }\r\n  }\r\n});\r\n\r\n//delete from cart\r\napp.delete('/api/users/:userId/cart/:productId', (req,res) => {\r\n     const { productId } = req.params; //productId\r\n     cartItems = cartItems.filter((product) => product.product_id.toString() !== productId);\r\n     res.status(200).json(cartItems);\r\n});\r\n\r\n//checking out from cart\r\napp.post('/api/users/:userId/cart/checkout', async (req,res) => {\r\n  const { userId } = req.params;\r\n  const cartItems = req.body;\r\n  console.log(cartItems);\r\n  const orderDate = new Date();\r\n  const totalPrice = cartItems.reduce((total, item) => total + Number(item.price * item.quantity), 0);\r\n  \r\n  const orderResult = await client.query('INSERT INTO orders (customer_id, order_date, total_price) VALUES ($1, $2, $3) RETURNING order_id', [userId, orderDate, totalPrice]);\r\n  const orderId = orderResult.rows[0].order_id;\r\n\r\n  cartItems.forEach(async (item) => {\r\n    await client.query('INSERT INTO OrderDetail (order_id, product_id, quantity) VALUES ($1, $2, $3)', [orderId, item.product_id, item.quantity]);\r\n  });\r\n  res.status(200).json({message: 'Checkout successfully!'});\r\n  \r\n})\r\n\r\n//For references purpose\r\n//-----------------------------------------------//\r\napp.get('/hello', (req, res) => {\r\n    res.send('Hello!');\r\n});\r\n\r\napp.post('/hello', (req, res) => {\r\n    res.send(`Hello ${req.body.name}!`);\r\n});\r\n\r\napp.get('/xinchao/:name', (req, res) => {\r\n    res.send(`Chào em bé ${req.params.name}`)\r\n});\r\n\r\napp.get('/test-db', (req, res) => {\r\n    \r\n});\r\n\r\napp.listen(8000, () => {\r\n    console.log('Server is listening on port 8000');\r\n});\r\n\r\n"],"mappings":"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"}},"mtime":1689002552814},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\NoTung\\\\server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\NoTung\\\\server\",\"filename\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\NoTung\\\\server\\\\connection.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\NoTung\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.22.8:development":{"value":{"code":"const {\n  Client\n} = require('pg');\nconst client = new Client({\n  host: 'localhost',\n  port: 5432,\n  user: 'postgres',\n  password: '12345',\n  database: 'ShopDatabase'\n});\nmodule.exports = client;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDbGllbnQiLCJyZXF1aXJlIiwiY2xpZW50IiwiaG9zdCIsInBvcnQiLCJ1c2VyIiwicGFzc3dvcmQiLCJkYXRhYmFzZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQWRtaW5cXERlc2t0b3BcXE5vVHVuZ1xcc2VydmVyXFwiLCJzb3VyY2VzIjpbImNvbm5lY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBDbGllbnQgfSA9IHJlcXVpcmUoJ3BnJyk7XHJcblxyXG5jb25zdCBjbGllbnQgPSBuZXcgQ2xpZW50KHtcclxuIGhvc3Q6ICdsb2NhbGhvc3QnLFxyXG4gcG9ydDogNTQzMixcclxuIHVzZXI6ICdwb3N0Z3JlcycsXHJcbiBwYXNzd29yZDogJzEyMzQ1JyxcclxuIGRhdGFiYXNlOiAnU2hvcERhdGFiYXNlJ1xyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gY2xpZW50OyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtFQUFFQTtBQUFPLENBQUMsR0FBR0MsT0FBTyxDQUFDLElBQUksQ0FBQztBQUVoQyxNQUFNQyxNQUFNLEdBQUcsSUFBSUYsTUFBTSxDQUFDO0VBQ3pCRyxJQUFJLEVBQUUsV0FBVztFQUNqQkMsSUFBSSxFQUFFLElBQUk7RUFDVkMsSUFBSSxFQUFFLFVBQVU7RUFDaEJDLFFBQVEsRUFBRSxPQUFPO0VBQ2pCQyxRQUFRLEVBQUU7QUFDWCxDQUFDLENBQUM7QUFFRkMsTUFBTSxDQUFDQyxPQUFPLEdBQUdQLE1BQU0ifQ==","map":{"version":3,"names":["Client","require","client","host","port","user","password","database","module","exports"],"sourceRoot":"C:\\Users\\Admin\\Desktop\\NoTung\\server\\","sources":["connection.js"],"sourcesContent":["const { Client } = require('pg');\r\n\r\nconst client = new Client({\r\n host: 'localhost',\r\n port: 5432,\r\n user: 'postgres',\r\n password: '12345',\r\n database: 'ShopDatabase'\r\n});\r\n\r\nmodule.exports = client;"],"mappings":"AAAA,MAAM;EAAEA;AAAO,CAAC,GAAGC,OAAO,CAAC,IAAI,CAAC;AAEhC,MAAMC,MAAM,GAAG,IAAIF,MAAM,CAAC;EACzBG,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,IAAI;EACVC,IAAI,EAAE,UAAU;EAChBC,QAAQ,EAAE,OAAO;EACjBC,QAAQ,EAAE;AACX,CAAC,CAAC;AAEFC,MAAM,CAACC,OAAO,GAAGP,MAAM"}},"mtime":1688922584392},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\BackUpShoeShop\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\BackUpShoeShop\\\\server\",\"filename\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\BackUpShoeShop\\\\server\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\BackUpShoeShop\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar client = require('../connection.js');\n\n// export let cartItems = [\n//   products[0],\n//   products[2],\n//   products[3],\n// ];\n\nclient.connect();\nvar cartItems = [];\nvar app = (0, _express[\"default\"])();\napp.use(_bodyParser[\"default\"].json());\napp.use('/images', _express[\"default\"][\"static\"](_path[\"default\"].join(__dirname, '../assets')));\n\n//endpoint for products\napp.get('/api/products', function (req, res) {\n  client.query('SELECT * FROM products', function (err, result) {\n    if (err) throw err;\n    res.send(result.rows);\n  });\n  //res.status(200).json(products);\n});\n\napp.get('/api/products/:productId', /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var productId, result, product;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          productId = req.params.productId;\n          _context.next = 3;\n          return client.query('SELECT * FROM products WHERE product_id = $1', [productId]);\n        case 3:\n          result = _context.sent;\n          //console.log(result)\n          product = result.rows[0];\n          if (product) {\n            res.status(200).json(product);\n          } else {\n            res.status(404).json({\n              message: 'Product not found!'\n            });\n          }\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n//endpoint for cart\napp.get('/api/users/:userId/cart', /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var userId, customer, customerData, cart;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          userId = req.params.userId;\n          _context2.next = 3;\n          return client.query('SELECT * FROM customers WHERE customer_id = $1', [userId]);\n        case 3:\n          customer = _context2.sent;\n          customerData = customer.rows[0]; //add a temporary cart property to customer, but won't add it to database\n          //cart = cartItems;\n          customerData.cart = cartItems;\n          cart = customerData.cart || {};\n          console.log(cart);\n          if (customer) {\n            res.status(200).json(customerData);\n          } else {\n            res.status(404).json({\n              message: 'Customer not found!'\n            });\n          }\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n//endpoint for adding product to cart\napp.post('/api/users/:userId/cart', /*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    var productId, itemExist, result, product;\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          productId = req.body.productId; //productId\n          console.log(productId);\n          console.log(cartItems);\n          itemExist = cartItems.find(function (product) {\n            return product.product_id.toString() === productId;\n          });\n          console.log(itemExist);\n          if (!itemExist) {\n            _context3.next = 11;\n            break;\n          }\n          itemExist.quantity += 1;\n          console.log('already in cart');\n          res.status(200).json(cartItems);\n          _context3.next = 16;\n          break;\n        case 11:\n          _context3.next = 13;\n          return client.query('SELECT * FROM products WHERE product_id = $1', [productId]);\n        case 13:\n          result = _context3.sent;\n          //console.log(result)\n          product = result.rows[0];\n          if (product) {\n            product.quantity = 1;\n            cartItems.push(product); //add product to cart\n            res.status(200).json(cartItems);\n          } else {\n            res.status(404).json({\n              message: 'Product not found!'\n            });\n          }\n        case 16:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n//delete from cart\napp[\"delete\"]('/api/users/:userId/cart/:productId', function (req, res) {\n  var productId = req.params.productId; //productId\n  cartItems = cartItems.filter(function (product) {\n    return product.product_id.toString() !== productId;\n  });\n  res.status(200).json(cartItems);\n});\n\n//checking out from cart\napp.post('/api/users/:userId/cart/checkout', /*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var userId, cartItems, orderDate, totalPrice, orderResult, orderId;\n    return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          userId = req.params.userId;\n          cartItems = req.body;\n          console.log(cartItems);\n          orderDate = new Date();\n          totalPrice = cartItems.reduce(function (total, item) {\n            return total + Number(item.price * item.quantity);\n          }, 0);\n          _context5.next = 7;\n          return client.query('INSERT INTO orders (customer_id, order_date, total_price) VALUES ($1, $2, $3) RETURNING order_id', [userId, orderDate, totalPrice]);\n        case 7:\n          orderResult = _context5.sent;\n          orderId = orderResult.rows[0].order_id;\n          cartItems.forEach( /*#__PURE__*/function () {\n            var _ref5 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(item) {\n              return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n                while (1) switch (_context4.prev = _context4.next) {\n                  case 0:\n                    _context4.next = 2;\n                    return client.query('INSERT INTO OrderDetail (order_id, product_id, quantity) VALUES ($1, $2, $3)', [orderId, item.product_id, item.quantity]);\n                  case 2:\n                  case \"end\":\n                    return _context4.stop();\n                }\n              }, _callee4);\n            }));\n            return function (_x9) {\n              return _ref5.apply(this, arguments);\n            };\n          }());\n          res.status(200).json({\n            message: 'Checkout successfully!'\n          });\n        case 11:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n\n//For references purpose\n//-----------------------------------------------//\napp.get('/hello', function (req, res) {\n  res.send('Hello!');\n});\napp.post('/hello', function (req, res) {\n  res.send(\"Hello \".concat(req.body.name, \"!\"));\n});\napp.get('/xinchao/:name', function (req, res) {\n  res.send(\"Ch\\xE0o em b\\xE9 \".concat(req.params.name));\n});\napp.get('/test-db', function (req, res) {});\napp.listen(8000, function () {\n  console.log('Server is listening on port 8000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JvZHlQYXJzZXIiLCJfcGF0aCIsImNsaWVudCIsImNvbm5lY3QiLCJjYXJ0SXRlbXMiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImdldCIsInJlcSIsInJlcyIsInF1ZXJ5IiwiZXJyIiwicmVzdWx0Iiwic2VuZCIsInJvd3MiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJwcm9kdWN0SWQiLCJwcm9kdWN0Iiwid3JhcCIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsInBhcmFtcyIsInNlbnQiLCJzdGF0dXMiLCJtZXNzYWdlIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfcmVmMiIsIl9jYWxsZWUyIiwidXNlcklkIiwiY3VzdG9tZXIiLCJjdXN0b21lckRhdGEiLCJjYXJ0IiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiY29uc29sZSIsImxvZyIsIl94MyIsIl94NCIsInBvc3QiLCJfcmVmMyIsIl9jYWxsZWUzIiwiaXRlbUV4aXN0IiwiX2NhbGxlZTMkIiwiX2NvbnRleHQzIiwiYm9keSIsImZpbmQiLCJwcm9kdWN0X2lkIiwidG9TdHJpbmciLCJxdWFudGl0eSIsInB1c2giLCJfeDUiLCJfeDYiLCJmaWx0ZXIiLCJfcmVmNCIsIl9jYWxsZWU1Iiwib3JkZXJEYXRlIiwidG90YWxQcmljZSIsIm9yZGVyUmVzdWx0Iiwib3JkZXJJZCIsIl9jYWxsZWU1JCIsIl9jb250ZXh0NSIsIkRhdGUiLCJyZWR1Y2UiLCJ0b3RhbCIsIml0ZW0iLCJOdW1iZXIiLCJwcmljZSIsIm9yZGVyX2lkIiwiZm9yRWFjaCIsIl9yZWY1IiwiX2NhbGxlZTQiLCJfY2FsbGVlNCQiLCJfY29udGV4dDQiLCJfeDkiLCJfeDciLCJfeDgiLCJjb25jYXQiLCJuYW1lIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEFkbWluXFxEZXNrdG9wXFxCYWNrVXBTaG9lU2hvcFxcc2VydmVyXFxzcmNcXCIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gXCJib2R5LXBhcnNlclwiO1xyXG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xyXG5jb25zdCBjbGllbnQgPSByZXF1aXJlICgnLi4vY29ubmVjdGlvbi5qcycpO1xyXG4gIFxyXG4gIC8vIGV4cG9ydCBsZXQgY2FydEl0ZW1zID0gW1xyXG4gIC8vICAgcHJvZHVjdHNbMF0sXHJcbiAgLy8gICBwcm9kdWN0c1syXSxcclxuICAvLyAgIHByb2R1Y3RzWzNdLFxyXG4gIC8vIF07XHJcblxyXG5jbGllbnQuY29ubmVjdCgpO1xyXG5cclxubGV0IGNhcnRJdGVtcyA9IFtdO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcclxuYXBwLnVzZSgnL2ltYWdlcycsIGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi9hc3NldHMnKSkpO1xyXG5cclxuLy9lbmRwb2ludCBmb3IgcHJvZHVjdHNcclxuYXBwLmdldCgnL2FwaS9wcm9kdWN0cycsIChyZXEscmVzKSA9PiB7XHJcbiAgICBjbGllbnQucXVlcnkoJ1NFTEVDVCAqIEZST00gcHJvZHVjdHMnLCAoZXJyLCByZXN1bHQpID0+IHtcclxuICAgIGlmIChlcnIpIHRocm93IGVycjtcclxuICAgIHJlcy5zZW5kKHJlc3VsdC5yb3dzKTtcclxuICAgIH0pO1xyXG4gICAgLy9yZXMuc3RhdHVzKDIwMCkuanNvbihwcm9kdWN0cyk7XHJcbn0pO1xyXG5cclxuYXBwLmdldCgnL2FwaS9wcm9kdWN0cy86cHJvZHVjdElkJywgYXN5bmMgKHJlcSxyZXMpID0+IHtcclxuICAgIGNvbnN0IHsgcHJvZHVjdElkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50LnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIHByb2R1Y3RzIFdIRVJFIHByb2R1Y3RfaWQgPSAkMScsIFtwcm9kdWN0SWRdKTtcclxuICAgIC8vY29uc29sZS5sb2cocmVzdWx0KVxyXG4gICAgY29uc3QgcHJvZHVjdCA9IHJlc3VsdC5yb3dzWzBdO1xyXG4gICAgaWYocHJvZHVjdCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHByb2R1Y3QpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6ICdQcm9kdWN0IG5vdCBmb3VuZCEnfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy9lbmRwb2ludCBmb3IgY2FydFxyXG5hcHAuZ2V0KCcvYXBpL3VzZXJzLzp1c2VySWQvY2FydCcsIGFzeW5jIChyZXEscmVzKSA9PiB7XHJcbiAgICBjb25zdCB7IHVzZXJJZCB9ID0gcmVxLnBhcmFtcztcclxuICAgIGNvbnN0IGN1c3RvbWVyID0gYXdhaXQgY2xpZW50LnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIGN1c3RvbWVycyBXSEVSRSBjdXN0b21lcl9pZCA9ICQxJywgW3VzZXJJZF0pO1xyXG5cclxuICAgIGNvbnN0IGN1c3RvbWVyRGF0YSA9IGN1c3RvbWVyLnJvd3NbMF07XHJcbiAgICAvL2FkZCBhIHRlbXBvcmFyeSBjYXJ0IHByb3BlcnR5IHRvIGN1c3RvbWVyLCBidXQgd29uJ3QgYWRkIGl0IHRvIGRhdGFiYXNlXHJcbiAgICAvL2NhcnQgPSBjYXJ0SXRlbXM7XHJcbiAgICBjdXN0b21lckRhdGEuY2FydCA9IGNhcnRJdGVtcztcclxuICAgIGNvbnN0IGNhcnQgPSBjdXN0b21lckRhdGEuY2FydCB8fCB7fTtcclxuICAgIGNvbnNvbGUubG9nKGNhcnQpO1xyXG4gICAgaWYgKGN1c3RvbWVyKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGN1c3RvbWVyRGF0YSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnQ3VzdG9tZXIgbm90IGZvdW5kIScgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG4vL2VuZHBvaW50IGZvciBhZGRpbmcgcHJvZHVjdCB0byBjYXJ0XHJcbmFwcC5wb3N0KCcvYXBpL3VzZXJzLzp1c2VySWQvY2FydCcsIGFzeW5jIChyZXEscmVzKSA9PiB7XHJcbiAgY29uc3QgeyBwcm9kdWN0SWQgfSA9IHJlcS5ib2R5OyAvL3Byb2R1Y3RJZFxyXG4gIGNvbnNvbGUubG9nKHByb2R1Y3RJZCk7XHJcbiAgY29uc29sZS5sb2coY2FydEl0ZW1zKTtcclxuXHJcbiAgY29uc3QgaXRlbUV4aXN0ID0gY2FydEl0ZW1zLmZpbmQoKHByb2R1Y3QpID0+IHByb2R1Y3QucHJvZHVjdF9pZC50b1N0cmluZygpID09PSBwcm9kdWN0SWQpO1xyXG5cclxuICBjb25zb2xlLmxvZyhpdGVtRXhpc3QpO1xyXG4gIGlmKGl0ZW1FeGlzdCl7IFxyXG4gICAgaXRlbUV4aXN0LnF1YW50aXR5ICs9IDE7XHJcbiAgICBjb25zb2xlLmxvZygnYWxyZWFkeSBpbiBjYXJ0Jyk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXJ0SXRlbXMpO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5xdWVyeSgnU0VMRUNUICogRlJPTSBwcm9kdWN0cyBXSEVSRSBwcm9kdWN0X2lkID0gJDEnLCBbcHJvZHVjdElkXSk7XHJcbiAgICAvL2NvbnNvbGUubG9nKHJlc3VsdClcclxuICAgIGNvbnN0IHByb2R1Y3QgPSByZXN1bHQucm93c1swXTtcclxuICAgIGlmKHByb2R1Y3QpIHtcclxuICAgICAgICBwcm9kdWN0LnF1YW50aXR5ID0gMTtcclxuICAgICAgICBjYXJ0SXRlbXMucHVzaChwcm9kdWN0KTsgLy9hZGQgcHJvZHVjdCB0byBjYXJ0XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oY2FydEl0ZW1zKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiAnUHJvZHVjdCBub3QgZm91bmQhJ30pO1xyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG4vL2RlbGV0ZSBmcm9tIGNhcnRcclxuYXBwLmRlbGV0ZSgnL2FwaS91c2Vycy86dXNlcklkL2NhcnQvOnByb2R1Y3RJZCcsIChyZXEscmVzKSA9PiB7XHJcbiAgICAgY29uc3QgeyBwcm9kdWN0SWQgfSA9IHJlcS5wYXJhbXM7IC8vcHJvZHVjdElkXHJcbiAgICAgY2FydEl0ZW1zID0gY2FydEl0ZW1zLmZpbHRlcigocHJvZHVjdCkgPT4gcHJvZHVjdC5wcm9kdWN0X2lkLnRvU3RyaW5nKCkgIT09IHByb2R1Y3RJZCk7XHJcbiAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oY2FydEl0ZW1zKTtcclxufSk7XHJcblxyXG4vL2NoZWNraW5nIG91dCBmcm9tIGNhcnRcclxuYXBwLnBvc3QoJy9hcGkvdXNlcnMvOnVzZXJJZC9jYXJ0L2NoZWNrb3V0JywgYXN5bmMgKHJlcSxyZXMpID0+IHtcclxuICBjb25zdCB7IHVzZXJJZCB9ID0gcmVxLnBhcmFtcztcclxuICBjb25zdCBjYXJ0SXRlbXMgPSByZXEuYm9keTtcclxuICBjb25zb2xlLmxvZyhjYXJ0SXRlbXMpO1xyXG4gIGNvbnN0IG9yZGVyRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgY29uc3QgdG90YWxQcmljZSA9IGNhcnRJdGVtcy5yZWR1Y2UoKHRvdGFsLCBpdGVtKSA9PiB0b3RhbCArIE51bWJlcihpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eSksIDApO1xyXG4gIFxyXG4gIGNvbnN0IG9yZGVyUmVzdWx0ID0gYXdhaXQgY2xpZW50LnF1ZXJ5KCdJTlNFUlQgSU5UTyBvcmRlcnMgKGN1c3RvbWVyX2lkLCBvcmRlcl9kYXRlLCB0b3RhbF9wcmljZSkgVkFMVUVTICgkMSwgJDIsICQzKSBSRVRVUk5JTkcgb3JkZXJfaWQnLCBbdXNlcklkLCBvcmRlckRhdGUsIHRvdGFsUHJpY2VdKTtcclxuICBjb25zdCBvcmRlcklkID0gb3JkZXJSZXN1bHQucm93c1swXS5vcmRlcl9pZDtcclxuXHJcbiAgY2FydEl0ZW1zLmZvckVhY2goYXN5bmMgKGl0ZW0pID0+IHtcclxuICAgIGF3YWl0IGNsaWVudC5xdWVyeSgnSU5TRVJUIElOVE8gT3JkZXJEZXRhaWwgKG9yZGVyX2lkLCBwcm9kdWN0X2lkLCBxdWFudGl0eSkgVkFMVUVTICgkMSwgJDIsICQzKScsIFtvcmRlcklkLCBpdGVtLnByb2R1Y3RfaWQsIGl0ZW0ucXVhbnRpdHldKTtcclxuICB9KTtcclxuICByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTogJ0NoZWNrb3V0IHN1Y2Nlc3NmdWxseSEnfSk7XHJcbiAgXHJcbn0pXHJcblxyXG4vL0ZvciByZWZlcmVuY2VzIHB1cnBvc2VcclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vXHJcbmFwcC5nZXQoJy9oZWxsbycsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnNlbmQoJ0hlbGxvIScpO1xyXG59KTtcclxuXHJcbmFwcC5wb3N0KCcvaGVsbG8nLCAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5zZW5kKGBIZWxsbyAke3JlcS5ib2R5Lm5hbWV9IWApO1xyXG59KTtcclxuXHJcbmFwcC5nZXQoJy94aW5jaGFvLzpuYW1lJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMuc2VuZChgQ2jDoG8gZW0gYsOpICR7cmVxLnBhcmFtcy5uYW1lfWApXHJcbn0pO1xyXG5cclxuYXBwLmdldCgnL3Rlc3QtZGInLCAocmVxLCByZXMpID0+IHtcclxuICAgIFxyXG59KTtcclxuXHJcbmFwcC5saXN0ZW4oODAwMCwgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ1NlcnZlciBpcyBsaXN0ZW5pbmcgb24gcG9ydCA4MDAwJyk7XHJcbn0pO1xyXG5cclxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQU1HLE1BQU0sR0FBR0gsT0FBTyxDQUFFLGtCQUFrQixDQUFDOztBQUV6QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVGRyxNQUFNLENBQUNDLE9BQU8sQ0FBQyxDQUFDO0FBRWhCLElBQUlDLFNBQVMsR0FBRyxFQUFFO0FBRWxCLElBQU1DLEdBQUcsR0FBRyxJQUFBQyxtQkFBTyxFQUFDLENBQUM7QUFDckJELEdBQUcsQ0FBQ0UsR0FBRyxDQUFDQyxzQkFBVSxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzFCSixHQUFHLENBQUNFLEdBQUcsQ0FBQyxTQUFTLEVBQUVELG1CQUFPLFVBQU8sQ0FBQ0ksZ0JBQUksQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQzs7QUFFckU7QUFDQVAsR0FBRyxDQUFDUSxHQUFHLENBQUMsZUFBZSxFQUFFLFVBQUNDLEdBQUcsRUFBQ0MsR0FBRyxFQUFLO0VBQ2xDYixNQUFNLENBQUNjLEtBQUssQ0FBQyx3QkFBd0IsRUFBRSxVQUFDQyxHQUFHLEVBQUVDLE1BQU0sRUFBSztJQUN4RCxJQUFJRCxHQUFHLEVBQUUsTUFBTUEsR0FBRztJQUNsQkYsR0FBRyxDQUFDSSxJQUFJLENBQUNELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDO0VBQ3JCLENBQUMsQ0FBQztFQUNGO0FBQ0osQ0FBQyxDQUFDOztBQUVGZixHQUFHLENBQUNRLEdBQUcsQ0FBQywwQkFBMEI7RUFBQSxJQUFBUSxJQUFBLE9BQUFDLGtCQUFBLDJCQUFBQyxZQUFBLFlBQUFD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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bodyParser","_path","client","connect","cartItems","app","express","use","bodyParser","json","path","join","__dirname","get","req","res","query","err","result","send","rows","_ref","_asyncToGenerator2","_regenerator","mark","_callee","productId","product","wrap","_callee$","_context","prev","next","params","sent","status","message","stop","_x","_x2","apply","arguments","_ref2","_callee2","userId","customer","customerData","cart","_callee2$","_context2","console","log","_x3","_x4","post","_ref3","_callee3","itemExist","_callee3$","_context3","body","find","product_id","toString","quantity","push","_x5","_x6","filter","_ref4","_callee5","orderDate","totalPrice","orderResult","orderId","_callee5$","_context5","Date","reduce","total","item","Number","price","order_id","forEach","_ref5","_callee4","_callee4$","_context4","_x9","_x7","_x8","concat","name","listen"],"sourceRoot":"C:\\Users\\Admin\\Desktop\\BackUpShoeShop\\server\\src\\","sources":["server.js"],"sourcesContent":["import express from \"express\";\r\nimport bodyParser from \"body-parser\";\r\nimport path from \"path\";\r\nconst client = require ('../connection.js');\r\n  \r\n  // export let cartItems = [\r\n  //   products[0],\r\n  //   products[2],\r\n  //   products[3],\r\n  // ];\r\n\r\nclient.connect();\r\n\r\nlet cartItems = [];\r\n\r\nconst app = express();\r\napp.use(bodyParser.json());\r\napp.use('/images', express.static(path.join(__dirname, '../assets')));\r\n\r\n//endpoint for products\r\napp.get('/api/products', (req,res) => {\r\n    client.query('SELECT * FROM products', (err, result) => {\r\n    if (err) throw err;\r\n    res.send(result.rows);\r\n    });\r\n    //res.status(200).json(products);\r\n});\r\n\r\napp.get('/api/products/:productId', async (req,res) => {\r\n    const { productId } = req.params;\r\n    const result = await client.query('SELECT * FROM products WHERE product_id = $1', [productId]);\r\n    //console.log(result)\r\n    const product = result.rows[0];\r\n    if(product) {\r\n        res.status(200).json(product);\r\n    }\r\n    else {\r\n        res.status(404).json({message: 'Product not found!'});\r\n    }\r\n});\r\n\r\n//endpoint for cart\r\napp.get('/api/users/:userId/cart', async (req,res) => {\r\n    const { userId } = req.params;\r\n    const customer = await client.query('SELECT * FROM customers WHERE customer_id = $1', [userId]);\r\n\r\n    const customerData = customer.rows[0];\r\n    //add a temporary cart property to customer, but won't add it to database\r\n    //cart = cartItems;\r\n    customerData.cart = cartItems;\r\n    const cart = customerData.cart || {};\r\n    console.log(cart);\r\n    if (customer) {\r\n      res.status(200).json(customerData);\r\n    }\r\n    else {\r\n      res.status(404).json({ message: 'Customer not found!' });\r\n    }\r\n});\r\n//endpoint for adding product to cart\r\napp.post('/api/users/:userId/cart', async (req,res) => {\r\n  const { productId } = req.body; //productId\r\n  console.log(productId);\r\n  console.log(cartItems);\r\n\r\n  const itemExist = cartItems.find((product) => product.product_id.toString() === productId);\r\n\r\n  console.log(itemExist);\r\n  if(itemExist){ \r\n    itemExist.quantity += 1;\r\n    console.log('already in cart');\r\n    res.status(200).json(cartItems);\r\n  }\r\n  else {\r\n    const result = await client.query('SELECT * FROM products WHERE product_id = $1', [productId]);\r\n    //console.log(result)\r\n    const product = result.rows[0];\r\n    if(product) {\r\n        product.quantity = 1;\r\n        cartItems.push(product); //add product to cart\r\n        res.status(200).json(cartItems);\r\n    }\r\n    else {\r\n        res.status(404).json({message: 'Product not found!'});\r\n    }\r\n  }\r\n});\r\n\r\n//delete from cart\r\napp.delete('/api/users/:userId/cart/:productId', (req,res) => {\r\n     const { productId } = req.params; //productId\r\n     cartItems = cartItems.filter((product) => product.product_id.toString() !== productId);\r\n     res.status(200).json(cartItems);\r\n});\r\n\r\n//checking out from cart\r\napp.post('/api/users/:userId/cart/checkout', async (req,res) => {\r\n  const { userId } = req.params;\r\n  const cartItems = req.body;\r\n  console.log(cartItems);\r\n  const orderDate = new Date();\r\n  const totalPrice = cartItems.reduce((total, item) => total + Number(item.price * item.quantity), 0);\r\n  \r\n  const orderResult = await client.query('INSERT INTO orders (customer_id, order_date, total_price) VALUES ($1, $2, $3) RETURNING order_id', [userId, orderDate, totalPrice]);\r\n  const orderId = orderResult.rows[0].order_id;\r\n\r\n  cartItems.forEach(async (item) => {\r\n    await client.query('INSERT INTO OrderDetail (order_id, product_id, quantity) VALUES ($1, $2, $3)', [orderId, item.product_id, item.quantity]);\r\n  });\r\n  res.status(200).json({message: 'Checkout successfully!'});\r\n  \r\n})\r\n\r\n//For references purpose\r\n//-----------------------------------------------//\r\napp.get('/hello', (req, res) => {\r\n    res.send('Hello!');\r\n});\r\n\r\napp.post('/hello', (req, res) => {\r\n    res.send(`Hello ${req.body.name}!`);\r\n});\r\n\r\napp.get('/xinchao/:name', (req, res) => {\r\n    res.send(`Chào em bé ${req.params.name}`)\r\n});\r\n\r\napp.get('/test-db', (req, res) => {\r\n    \r\n});\r\n\r\napp.listen(8000, () => {\r\n    console.log('Server is listening on port 8000');\r\n});\r\n\r\n"],"mappings":"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"}},"mtime":1689002552814},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\BackUpShoeShop\\\\server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\BackUpShoeShop\\\\server\",\"filename\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\BackUpShoeShop\\\\server\\\\connection.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\BackUpShoeShop\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.22.8:development":{"value":{"code":"const {\n  Client\n} = require('pg');\nconst client = new Client({\n  host: 'localhost',\n  port: 5432,\n  user: 'postgres',\n  password: '12345',\n  database: 'ShopDatabase'\n});\nmodule.exports = client;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDbGllbnQiLCJyZXF1aXJlIiwiY2xpZW50IiwiaG9zdCIsInBvcnQiLCJ1c2VyIiwicGFzc3dvcmQiLCJkYXRhYmFzZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQWRtaW5cXERlc2t0b3BcXEJhY2tVcFNob2VTaG9wXFxzZXJ2ZXJcXCIsInNvdXJjZXMiOlsiY29ubmVjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IENsaWVudCB9ID0gcmVxdWlyZSgncGcnKTtcclxuXHJcbmNvbnN0IGNsaWVudCA9IG5ldyBDbGllbnQoe1xyXG4gaG9zdDogJ2xvY2FsaG9zdCcsXHJcbiBwb3J0OiA1NDMyLFxyXG4gdXNlcjogJ3Bvc3RncmVzJyxcclxuIHBhc3N3b3JkOiAnMTIzNDUnLFxyXG4gZGF0YWJhc2U6ICdTaG9wRGF0YWJhc2UnXHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBjbGllbnQ7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0VBQUVBO0FBQU8sQ0FBQyxHQUFHQyxPQUFPLENBQUMsSUFBSSxDQUFDO0FBRWhDLE1BQU1DLE1BQU0sR0FBRyxJQUFJRixNQUFNLENBQUM7RUFDekJHLElBQUksRUFBRSxXQUFXO0VBQ2pCQyxJQUFJLEVBQUUsSUFBSTtFQUNWQyxJQUFJLEVBQUUsVUFBVTtFQUNoQkMsUUFBUSxFQUFFLE9BQU87RUFDakJDLFFBQVEsRUFBRTtBQUNYLENBQUMsQ0FBQztBQUVGQyxNQUFNLENBQUNDLE9BQU8sR0FBR1AsTUFBTSJ9","map":{"version":3,"names":["Client","require","client","host","port","user","password","database","module","exports"],"sourceRoot":"C:\\Users\\Admin\\Desktop\\BackUpShoeShop\\server\\","sources":["connection.js"],"sourcesContent":["const { Client } = require('pg');\r\n\r\nconst client = new Client({\r\n host: 'localhost',\r\n port: 5432,\r\n user: 'postgres',\r\n password: '12345',\r\n database: 'ShopDatabase'\r\n});\r\n\r\nmodule.exports = client;"],"mappings":"AAAA,MAAM;EAAEA;AAAO,CAAC,GAAGC,OAAO,CAAC,IAAI,CAAC;AAEhC,MAAMC,MAAM,GAAG,IAAIF,MAAM,CAAC;EACzBG,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,IAAI;EACVC,IAAI,EAAE,UAAU;EAChBC,QAAQ,EAAE,OAAO;EACjBC,QAAQ,EAAE;AACX,CAAC,CAAC;AAEFC,MAAM,CAACC,OAAO,GAAGP,MAAM"}},"mtime":1688922584392},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\ShoeShop\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\ShoeShop\\\\server\",\"filename\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\ShoeShop\\\\server\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\ShoeShop\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar client = require('../connection.js');\nclient.connect();\nvar cartItems = [];\nvar app = (0, _express[\"default\"])();\napp.use(_bodyParser[\"default\"].json());\napp.use('/images', _express[\"default\"][\"static\"](_path[\"default\"].join(__dirname, '../assets')));\n\n//endpoint for products\napp.get('/api/products', function (req, res) {\n  client.query('SELECT * FROM products', function (err, result) {\n    if (err) throw err;\n    res.send(result.rows);\n  });\n  //res.status(200).json(products);\n});\n\napp.get('/api/products/:productId', /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var productId, result, product;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          productId = req.params.productId;\n          _context.next = 3;\n          return client.query('SELECT * FROM products WHERE product_id = $1', [productId]);\n        case 3:\n          result = _context.sent;\n          //console.log(result)\n          product = result.rows[0];\n          if (product) {\n            res.status(200).json(product);\n          } else {\n            res.status(404).json({\n              message: 'Product not found!'\n            });\n          }\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n//endpoint for cart\napp.get('/api/users/:userId/cart', /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var userId, customer, customerData, cart;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          userId = req.params.userId;\n          _context2.next = 3;\n          return client.query('SELECT * FROM customers WHERE customer_id = $1', [userId]);\n        case 3:\n          customer = _context2.sent;\n          customerData = customer.rows[0]; //add a temporary cart property to customer, but won't add it to database\n          //cart = cartItems;\n          customerData.cart = cartItems;\n          cart = customerData.cart || {};\n          console.log(cart);\n          if (customer) {\n            res.status(200).json(customerData);\n          } else {\n            res.status(404).json({\n              message: 'Customer not found!'\n            });\n          }\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n//endpoint for adding product to cart\napp.post('/api/users/:userId/cart', /*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    var productId, itemExist, result, product;\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          productId = req.body.productId; //productId\n          console.log(productId);\n          console.log(cartItems);\n          itemExist = cartItems.find(function (product) {\n            return product.product_id.toString() === productId;\n          });\n          console.log(itemExist);\n          if (!itemExist) {\n            _context3.next = 11;\n            break;\n          }\n          itemExist.quantity += 1;\n          console.log('already in cart');\n          res.status(200).json(cartItems);\n          _context3.next = 16;\n          break;\n        case 11:\n          _context3.next = 13;\n          return client.query('SELECT * FROM products WHERE product_id = $1', [productId]);\n        case 13:\n          result = _context3.sent;\n          //console.log(result)\n          product = result.rows[0];\n          if (product) {\n            product.quantity = 1;\n            cartItems.push(product); //add product to cart\n            res.status(200).json(cartItems);\n          } else {\n            res.status(404).json({\n              message: 'Product not found!'\n            });\n          }\n        case 16:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n//delete from cart\napp[\"delete\"]('/api/users/:userId/cart/:productId', function (req, res) {\n  var productId = req.params.productId; //productId\n  cartItems = cartItems.filter(function (product) {\n    return product.product_id.toString() !== productId;\n  });\n  res.status(200).json(cartItems);\n});\n\n//checking out from cart\napp.post('/api/users/:userId/cart/checkout', /*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var userId, cartItems, orderDate, totalPrice, orderResult, orderId;\n    return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          userId = req.params.userId;\n          cartItems = req.body;\n          console.log(cartItems);\n          orderDate = new Date();\n          totalPrice = cartItems.reduce(function (total, item) {\n            return total + Number(item.price * item.quantity);\n          }, 0);\n          _context5.next = 7;\n          return client.query('INSERT INTO orders (customer_id, order_date, total_price) VALUES ($1, $2, $3) RETURNING order_id', [userId, orderDate, totalPrice]);\n        case 7:\n          orderResult = _context5.sent;\n          orderId = orderResult.rows[0].order_id;\n          cartItems.forEach( /*#__PURE__*/function () {\n            var _ref5 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(item) {\n              return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n                while (1) switch (_context4.prev = _context4.next) {\n                  case 0:\n                    _context4.next = 2;\n                    return client.query('INSERT INTO OrderDetail (order_id, product_id, quantity) VALUES ($1, $2, $3)', [orderId, item.product_id, item.quantity]);\n                  case 2:\n                  case \"end\":\n                    return _context4.stop();\n                }\n              }, _callee4);\n            }));\n            return function (_x9) {\n              return _ref5.apply(this, arguments);\n            };\n          }());\n          res.status(200).json({\n            message: 'Checkout successfully!'\n          });\n        case 11:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n//-----------------------------------------------//\n// Login Route\napp.post('/api/login', /*#__PURE__*/function () {\n  var _ref6 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res) {\n    var _req$body, username, password, checkAccount, user, userData;\n    return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _req$body = req.body, username = _req$body.username, password = _req$body.password; // Check if the account is exist\n          checkAccount = 'SELECT * FROM Accounts WHERE username = $1 AND password = $2';\n          _context6.next = 4;\n          return client.query(checkAccount, [username, password]);\n        case 4:\n          user = _context6.sent;\n          userData = user.rows[0];\n          console.log(userData);\n          if (user.rows.length > 0) {\n            res.status(200).json({\n              message: 'Login successfully!',\n              loggedIn: true,\n              userId: userData.customer_id\n            });\n          } else {\n            res.status(401).json({\n              message: 'Login failed!',\n              loggedIn: false\n            });\n          }\n        case 8:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return function (_x10, _x11) {\n    return _ref6.apply(this, arguments);\n  };\n}());\n\n// Register route\napp.post('/api/register', /*#__PURE__*/function () {\n  var _ref7 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(req, res) {\n    var _req$body2, username, password, name, age, tel, address, gender, email, checkUsernameQuery, result, customerQuery, customerResult, customerId, accountQuery;\n    return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          _req$body2 = req.body, username = _req$body2.username, password = _req$body2.password, name = _req$body2.name, age = _req$body2.age, tel = _req$body2.tel, address = _req$body2.address, gender = _req$body2.gender, email = _req$body2.email; // Check if the username is already taken\n          checkUsernameQuery = 'SELECT username FROM Accounts WHERE username = $1';\n          _context7.next = 5;\n          return client.query(checkUsernameQuery, [username]);\n        case 5:\n          result = _context7.sent;\n          if (!(result.rows.length > 0)) {\n            _context7.next = 8;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(400).json({\n            message: 'Username is already taken'\n          }));\n        case 8:\n          // Insert the customer data into the Customers table\n          customerQuery = 'INSERT INTO Customers (name, age, tel, gender, email, address) VALUES ($1, $2, $3, $4, $5, $6) RETURNING customer_id';\n          _context7.next = 11;\n          return client.query(customerQuery, [name, age, tel, gender, email, address]);\n        case 11:\n          customerResult = _context7.sent;\n          customerId = customerResult.rows[0].customer_id; // Insert the account data into the Accounts table\n          accountQuery = 'INSERT INTO Accounts (customer_id, username, password) VALUES ($1, $2, $3)';\n          _context7.next = 16;\n          return client.query(accountQuery, [customerId, username, password]);\n        case 16:\n          res.status(200).json({\n            message: 'Registration successful'\n          });\n          _context7.next = 23;\n          break;\n        case 19:\n          _context7.prev = 19;\n          _context7.t0 = _context7[\"catch\"](0);\n          console.error(_context7.t0);\n          res.status(500).json({\n            message: 'Registration failed'\n          });\n        case 23:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[0, 19]]);\n  }));\n  return function (_x12, _x13) {\n    return _ref7.apply(this, arguments);\n  };\n}());\n\n//For references purpose\n//-----------------------------------------------//\napp.get('/hello', function (req, res) {\n  res.send('Hello!');\n});\napp.post('/hello', function (req, res) {\n  res.send(\"Hello \".concat(req.body.name, \"!\"));\n});\napp.get('/xinchao/:name', function (req, res) {\n  res.send(\"Ch\\xE0o em b\\xE9 \".concat(req.params.name));\n});\napp.get('/test-db', function (req, res) {});\napp.listen(8000, function () {\n  console.log('Server is listening on port 8000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JvZHlQYXJzZXIiLCJfcGF0aCIsImNsaWVudCIsImNvbm5lY3QiLCJjYXJ0SXRlbXMiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImdldCIsInJlcSIsInJlcyIsInF1ZXJ5IiwiZXJyIiwicmVzdWx0Iiwic2VuZCIsInJvd3MiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJwcm9kdWN0SWQiLCJwcm9kdWN0Iiwid3JhcCIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsInBhcmFtcyIsInNlbnQiLCJzdGF0dXMiLCJtZXNzYWdlIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfcmVmMiIsIl9jYWxsZWUyIiwidXNlcklkIiwiY3VzdG9tZXIiLCJjdXN0b21lckRhdGEiLCJjYXJ0IiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiY29uc29sZSIsImxvZyIsIl94MyIsIl94NCIsInBvc3QiLCJfcmVmMyIsIl9jYWxsZWUzIiwiaXRlbUV4aXN0IiwiX2NhbGxlZTMkIiwiX2NvbnRleHQzIiwiYm9keSIsImZpbmQiLCJwcm9kdWN0X2lkIiwidG9TdHJpbmciLCJxdWFudGl0eSIsInB1c2giLCJfeDUiLCJfeDYiLCJmaWx0ZXIiLCJfcmVmNCIsIl9jYWxsZWU1Iiwib3JkZXJEYXRlIiwidG90YWxQcmljZSIsIm9yZGVyUmVzdWx0Iiwib3JkZXJJZCIsIl9jYWxsZWU1JCIsIl9jb250ZXh0NSIsIkRhdGUiLCJyZWR1Y2UiLCJ0b3RhbCIsIml0ZW0iLCJOdW1iZXIiLCJwcmljZSIsIm9yZGVyX2lkIiwiZm9yRWFjaCIsIl9yZWY1IiwiX2NhbGxlZTQiLCJfY2FsbGVlNCQiLCJfY29udGV4dDQiLCJfeDkiLCJfeDciLCJfeDgiLCJfcmVmNiIsIl9jYWxsZWU2IiwiX3JlcSRib2R5IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImNoZWNrQWNjb3VudCIsInVzZXIiLCJ1c2VyRGF0YSIsIl9jYWxsZWU2JCIsIl9jb250ZXh0NiIsImxlbmd0aCIsImxvZ2dlZEluIiwiY3VzdG9tZXJfaWQiLCJfeDEwIiwiX3gxMSIsIl9yZWY3IiwiX2NhbGxlZTciLCJfcmVxJGJvZHkyIiwibmFtZSIsImFnZSIsInRlbCIsImFkZHJlc3MiLCJnZW5kZXIiLCJlbWFpbCIsImNoZWNrVXNlcm5hbWVRdWVyeSIsImN1c3RvbWVyUXVlcnkiLCJjdXN0b21lclJlc3VsdCIsImN1c3RvbWVySWQiLCJhY2NvdW50UXVlcnkiLCJfY2FsbGVlNyQiLCJfY29udGV4dDciLCJhYnJ1cHQiLCJ0MCIsImVycm9yIiwiX3gxMiIsIl94MTMiLCJjb25jYXQiLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQWRtaW5cXERlc2t0b3BcXFNob2VTaG9wXFxzZXJ2ZXJcXHNyY1xcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSBcImJvZHktcGFyc2VyXCI7XHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XHJcbmNvbnN0IGNsaWVudCA9IHJlcXVpcmUgKCcuLi9jb25uZWN0aW9uLmpzJyk7XHJcblxyXG5jbGllbnQuY29ubmVjdCgpO1xyXG5cclxubGV0IGNhcnRJdGVtcyA9IFtdO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcclxuYXBwLnVzZSgnL2ltYWdlcycsIGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi9hc3NldHMnKSkpO1xyXG5cclxuLy9lbmRwb2ludCBmb3IgcHJvZHVjdHNcclxuYXBwLmdldCgnL2FwaS9wcm9kdWN0cycsIChyZXEscmVzKSA9PiB7XHJcbiAgICBjbGllbnQucXVlcnkoJ1NFTEVDVCAqIEZST00gcHJvZHVjdHMnLCAoZXJyLCByZXN1bHQpID0+IHtcclxuICAgIGlmIChlcnIpIHRocm93IGVycjtcclxuICAgIHJlcy5zZW5kKHJlc3VsdC5yb3dzKTtcclxuICAgIH0pO1xyXG4gICAgLy9yZXMuc3RhdHVzKDIwMCkuanNvbihwcm9kdWN0cyk7XHJcbn0pO1xyXG5cclxuYXBwLmdldCgnL2FwaS9wcm9kdWN0cy86cHJvZHVjdElkJywgYXN5bmMgKHJlcSxyZXMpID0+IHtcclxuICAgIGNvbnN0IHsgcHJvZHVjdElkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50LnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIHByb2R1Y3RzIFdIRVJFIHByb2R1Y3RfaWQgPSAkMScsIFtwcm9kdWN0SWRdKTtcclxuICAgIC8vY29uc29sZS5sb2cocmVzdWx0KVxyXG4gICAgY29uc3QgcHJvZHVjdCA9IHJlc3VsdC5yb3dzWzBdO1xyXG4gICAgaWYocHJvZHVjdCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHByb2R1Y3QpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6ICdQcm9kdWN0IG5vdCBmb3VuZCEnfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy9lbmRwb2ludCBmb3IgY2FydFxyXG5hcHAuZ2V0KCcvYXBpL3VzZXJzLzp1c2VySWQvY2FydCcsIGFzeW5jIChyZXEscmVzKSA9PiB7XHJcbiAgICBjb25zdCB7IHVzZXJJZCB9ID0gcmVxLnBhcmFtcztcclxuICAgIGNvbnN0IGN1c3RvbWVyID0gYXdhaXQgY2xpZW50LnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIGN1c3RvbWVycyBXSEVSRSBjdXN0b21lcl9pZCA9ICQxJywgW3VzZXJJZF0pO1xyXG5cclxuICAgIGNvbnN0IGN1c3RvbWVyRGF0YSA9IGN1c3RvbWVyLnJvd3NbMF07XHJcbiAgICAvL2FkZCBhIHRlbXBvcmFyeSBjYXJ0IHByb3BlcnR5IHRvIGN1c3RvbWVyLCBidXQgd29uJ3QgYWRkIGl0IHRvIGRhdGFiYXNlXHJcbiAgICAvL2NhcnQgPSBjYXJ0SXRlbXM7XHJcbiAgICBjdXN0b21lckRhdGEuY2FydCA9IGNhcnRJdGVtcztcclxuICAgIGNvbnN0IGNhcnQgPSBjdXN0b21lckRhdGEuY2FydCB8fCB7fTtcclxuICAgIGNvbnNvbGUubG9nKGNhcnQpO1xyXG4gICAgaWYgKGN1c3RvbWVyKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGN1c3RvbWVyRGF0YSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnQ3VzdG9tZXIgbm90IGZvdW5kIScgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG4vL2VuZHBvaW50IGZvciBhZGRpbmcgcHJvZHVjdCB0byBjYXJ0XHJcbmFwcC5wb3N0KCcvYXBpL3VzZXJzLzp1c2VySWQvY2FydCcsIGFzeW5jIChyZXEscmVzKSA9PiB7XHJcbiAgY29uc3QgeyBwcm9kdWN0SWQgfSA9IHJlcS5ib2R5OyAvL3Byb2R1Y3RJZFxyXG4gIGNvbnNvbGUubG9nKHByb2R1Y3RJZCk7XHJcbiAgY29uc29sZS5sb2coY2FydEl0ZW1zKTtcclxuXHJcbiAgY29uc3QgaXRlbUV4aXN0ID0gY2FydEl0ZW1zLmZpbmQoKHByb2R1Y3QpID0+IHByb2R1Y3QucHJvZHVjdF9pZC50b1N0cmluZygpID09PSBwcm9kdWN0SWQpO1xyXG5cclxuICBjb25zb2xlLmxvZyhpdGVtRXhpc3QpO1xyXG4gIGlmKGl0ZW1FeGlzdCl7IFxyXG4gICAgaXRlbUV4aXN0LnF1YW50aXR5ICs9IDE7XHJcbiAgICBjb25zb2xlLmxvZygnYWxyZWFkeSBpbiBjYXJ0Jyk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXJ0SXRlbXMpO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5xdWVyeSgnU0VMRUNUICogRlJPTSBwcm9kdWN0cyBXSEVSRSBwcm9kdWN0X2lkID0gJDEnLCBbcHJvZHVjdElkXSk7XHJcbiAgICAvL2NvbnNvbGUubG9nKHJlc3VsdClcclxuICAgIGNvbnN0IHByb2R1Y3QgPSByZXN1bHQucm93c1swXTtcclxuICAgIGlmKHByb2R1Y3QpIHtcclxuICAgICAgICBwcm9kdWN0LnF1YW50aXR5ID0gMTtcclxuICAgICAgICBjYXJ0SXRlbXMucHVzaChwcm9kdWN0KTsgLy9hZGQgcHJvZHVjdCB0byBjYXJ0XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oY2FydEl0ZW1zKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiAnUHJvZHVjdCBub3QgZm91bmQhJ30pO1xyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG4vL2RlbGV0ZSBmcm9tIGNhcnRcclxuYXBwLmRlbGV0ZSgnL2FwaS91c2Vycy86dXNlcklkL2NhcnQvOnByb2R1Y3RJZCcsIChyZXEscmVzKSA9PiB7XHJcbiAgICAgY29uc3QgeyBwcm9kdWN0SWQgfSA9IHJlcS5wYXJhbXM7IC8vcHJvZHVjdElkXHJcbiAgICAgY2FydEl0ZW1zID0gY2FydEl0ZW1zLmZpbHRlcigocHJvZHVjdCkgPT4gcHJvZHVjdC5wcm9kdWN0X2lkLnRvU3RyaW5nKCkgIT09IHByb2R1Y3RJZCk7XHJcbiAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oY2FydEl0ZW1zKTtcclxufSk7XHJcblxyXG4vL2NoZWNraW5nIG91dCBmcm9tIGNhcnRcclxuYXBwLnBvc3QoJy9hcGkvdXNlcnMvOnVzZXJJZC9jYXJ0L2NoZWNrb3V0JywgYXN5bmMgKHJlcSxyZXMpID0+IHtcclxuICBjb25zdCB7IHVzZXJJZCB9ID0gcmVxLnBhcmFtcztcclxuICBjb25zdCBjYXJ0SXRlbXMgPSByZXEuYm9keTtcclxuICBjb25zb2xlLmxvZyhjYXJ0SXRlbXMpO1xyXG4gIGNvbnN0IG9yZGVyRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgY29uc3QgdG90YWxQcmljZSA9IGNhcnRJdGVtcy5yZWR1Y2UoKHRvdGFsLCBpdGVtKSA9PiB0b3RhbCArIE51bWJlcihpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eSksIDApO1xyXG4gIFxyXG4gIGNvbnN0IG9yZGVyUmVzdWx0ID0gYXdhaXQgY2xpZW50LnF1ZXJ5KCdJTlNFUlQgSU5UTyBvcmRlcnMgKGN1c3RvbWVyX2lkLCBvcmRlcl9kYXRlLCB0b3RhbF9wcmljZSkgVkFMVUVTICgkMSwgJDIsICQzKSBSRVRVUk5JTkcgb3JkZXJfaWQnLCBbdXNlcklkLCBvcmRlckRhdGUsIHRvdGFsUHJpY2VdKTtcclxuICBjb25zdCBvcmRlcklkID0gb3JkZXJSZXN1bHQucm93c1swXS5vcmRlcl9pZDtcclxuXHJcbiAgY2FydEl0ZW1zLmZvckVhY2goYXN5bmMgKGl0ZW0pID0+IHtcclxuICAgIGF3YWl0IGNsaWVudC5xdWVyeSgnSU5TRVJUIElOVE8gT3JkZXJEZXRhaWwgKG9yZGVyX2lkLCBwcm9kdWN0X2lkLCBxdWFudGl0eSkgVkFMVUVTICgkMSwgJDIsICQzKScsIFtvcmRlcklkLCBpdGVtLnByb2R1Y3RfaWQsIGl0ZW0ucXVhbnRpdHldKTtcclxuICB9KTtcclxuICByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTogJ0NoZWNrb3V0IHN1Y2Nlc3NmdWxseSEnfSk7XHJcbiAgXHJcbn0pXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xyXG4vLyBMb2dpbiBSb3V0ZVxyXG5hcHAucG9zdCgnL2FwaS9sb2dpbicsIGFzeW5jIChyZXEscmVzKSA9PiB7XHJcbiAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xyXG4gIC8vIENoZWNrIGlmIHRoZSBhY2NvdW50IGlzIGV4aXN0XHJcbiAgY29uc3QgY2hlY2tBY2NvdW50ID0gJ1NFTEVDVCAqIEZST00gQWNjb3VudHMgV0hFUkUgdXNlcm5hbWUgPSAkMSBBTkQgcGFzc3dvcmQgPSAkMic7XHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IGNsaWVudC5xdWVyeShjaGVja0FjY291bnQsIFt1c2VybmFtZSwgcGFzc3dvcmRdKTtcclxuICBjb25zdCB1c2VyRGF0YSA9IHVzZXIucm93c1swXTtcclxuICBjb25zb2xlLmxvZyh1c2VyRGF0YSlcclxuICBpZih1c2VyLnJvd3MubGVuZ3RoID4gMCkge1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6ICdMb2dpbiBzdWNjZXNzZnVsbHkhJywgbG9nZ2VkSW46IHRydWUgLCB1c2VySWQgOiB1c2VyRGF0YS5jdXN0b21lcl9pZH0pO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHttZXNzYWdlOiAnTG9naW4gZmFpbGVkIScsIGxvZ2dlZEluOiBmYWxzZX0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyBSZWdpc3RlciByb3V0ZVxyXG5hcHAucG9zdCgnL2FwaS9yZWdpc3RlcicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCwgbmFtZSwgYWdlLCB0ZWwsIGFkZHJlc3MsIGdlbmRlciwgZW1haWwgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZSB1c2VybmFtZSBpcyBhbHJlYWR5IHRha2VuXHJcbiAgICBjb25zdCBjaGVja1VzZXJuYW1lUXVlcnkgPSAnU0VMRUNUIHVzZXJuYW1lIEZST00gQWNjb3VudHMgV0hFUkUgdXNlcm5hbWUgPSAkMSc7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQucXVlcnkoY2hlY2tVc2VybmFtZVF1ZXJ5LCBbdXNlcm5hbWVdKTtcclxuXHJcbiAgICBpZiAocmVzdWx0LnJvd3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAvLyBVc2VybmFtZSBpcyBhbHJlYWR5IHRha2VuXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdVc2VybmFtZSBpcyBhbHJlYWR5IHRha2VuJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJbnNlcnQgdGhlIGN1c3RvbWVyIGRhdGEgaW50byB0aGUgQ3VzdG9tZXJzIHRhYmxlXHJcbiAgICBjb25zdCBjdXN0b21lclF1ZXJ5ID0gJ0lOU0VSVCBJTlRPIEN1c3RvbWVycyAobmFtZSwgYWdlLCB0ZWwsIGdlbmRlciwgZW1haWwsIGFkZHJlc3MpIFZBTFVFUyAoJDEsICQyLCAkMywgJDQsICQ1LCAkNikgUkVUVVJOSU5HIGN1c3RvbWVyX2lkJztcclxuICAgIGNvbnN0IGN1c3RvbWVyUmVzdWx0ID0gYXdhaXQgY2xpZW50LnF1ZXJ5KGN1c3RvbWVyUXVlcnksIFtuYW1lLCBhZ2UsIHRlbCwgZ2VuZGVyLCBlbWFpbCwgYWRkcmVzc10pO1xyXG4gICAgY29uc3QgY3VzdG9tZXJJZCA9IGN1c3RvbWVyUmVzdWx0LnJvd3NbMF0uY3VzdG9tZXJfaWQ7XHJcblxyXG4gICAgLy8gSW5zZXJ0IHRoZSBhY2NvdW50IGRhdGEgaW50byB0aGUgQWNjb3VudHMgdGFibGVcclxuICAgIGNvbnN0IGFjY291bnRRdWVyeSA9ICdJTlNFUlQgSU5UTyBBY2NvdW50cyAoY3VzdG9tZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCkgVkFMVUVTICgkMSwgJDIsICQzKSc7XHJcbiAgICBhd2FpdCBjbGllbnQucXVlcnkoYWNjb3VudFF1ZXJ5LCBbY3VzdG9tZXJJZCwgdXNlcm5hbWUsIHBhc3N3b3JkXSk7XHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnUmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWwnIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ1JlZ2lzdHJhdGlvbiBmYWlsZWQnIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5cclxuLy9Gb3IgcmVmZXJlbmNlcyBwdXJwb3NlXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xyXG5hcHAuZ2V0KCcvaGVsbG8nLCAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5zZW5kKCdIZWxsbyEnKTtcclxufSk7XHJcblxyXG5hcHAucG9zdCgnL2hlbGxvJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMuc2VuZChgSGVsbG8gJHtyZXEuYm9keS5uYW1lfSFgKTtcclxufSk7XHJcblxyXG5hcHAuZ2V0KCcveGluY2hhby86bmFtZScsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnNlbmQoYENow6BvIGVtIGLDqSAke3JlcS5wYXJhbXMubmFtZX1gKVxyXG59KTtcclxuXHJcbmFwcC5nZXQoJy90ZXN0LWRiJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBcclxufSk7XHJcblxyXG5hcHAubGlzdGVuKDgwMDAsICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXIgaXMgbGlzdGVuaW5nIG9uIHBvcnQgODAwMCcpO1xyXG59KTtcclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxXQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFNRyxNQUFNLEdBQUdILE9BQU8sQ0FBRSxrQkFBa0IsQ0FBQztBQUUzQ0csTUFBTSxDQUFDQyxPQUFPLENBQUMsQ0FBQztBQUVoQixJQUFJQyxTQUFTLEdBQUcsRUFBRTtBQUVsQixJQUFNQyxHQUFHLEdBQUcsSUFBQUMsbUJBQU8sRUFBQyxDQUFDO0FBQ3JCRCxHQUFHLENBQUNF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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bodyParser","_path","client","connect","cartItems","app","express","use","bodyParser","json","path","join","__dirname","get","req","res","query","err","result","send","rows","_ref","_asyncToGenerator2","_regenerator","mark","_callee","productId","product","wrap","_callee$","_context","prev","next","params","sent","status","message","stop","_x","_x2","apply","arguments","_ref2","_callee2","userId","customer","customerData","cart","_callee2$","_context2","console","log","_x3","_x4","post","_ref3","_callee3","itemExist","_callee3$","_context3","body","find","product_id","toString","quantity","push","_x5","_x6","filter","_ref4","_callee5","orderDate","totalPrice","orderResult","orderId","_callee5$","_context5","Date","reduce","total","item","Number","price","order_id","forEach","_ref5","_callee4","_callee4$","_context4","_x9","_x7","_x8","_ref6","_callee6","_req$body","username","password","checkAccount","user","userData","_callee6$","_context6","length","loggedIn","customer_id","_x10","_x11","_ref7","_callee7","_req$body2","name","age","tel","address","gender","email","checkUsernameQuery","customerQuery","customerResult","customerId","accountQuery","_callee7$","_context7","abrupt","t0","error","_x12","_x13","concat","listen"],"sourceRoot":"C:\\Users\\Admin\\Desktop\\ShoeShop\\server\\src\\","sources":["server.js"],"sourcesContent":["import express from \"express\";\r\nimport bodyParser from \"body-parser\";\r\nimport path from \"path\";\r\nconst client = require ('../connection.js');\r\n\r\nclient.connect();\r\n\r\nlet cartItems = [];\r\n\r\nconst app = express();\r\napp.use(bodyParser.json());\r\napp.use('/images', express.static(path.join(__dirname, '../assets')));\r\n\r\n//endpoint for products\r\napp.get('/api/products', (req,res) => {\r\n    client.query('SELECT * FROM products', (err, result) => {\r\n    if (err) throw err;\r\n    res.send(result.rows);\r\n    });\r\n    //res.status(200).json(products);\r\n});\r\n\r\napp.get('/api/products/:productId', async (req,res) => {\r\n    const { productId } = req.params;\r\n    const result = await client.query('SELECT * FROM products WHERE product_id = $1', [productId]);\r\n    //console.log(result)\r\n    const product = result.rows[0];\r\n    if(product) {\r\n        res.status(200).json(product);\r\n    }\r\n    else {\r\n        res.status(404).json({message: 'Product not found!'});\r\n    }\r\n});\r\n\r\n//endpoint for cart\r\napp.get('/api/users/:userId/cart', async (req,res) => {\r\n    const { userId } = req.params;\r\n    const customer = await client.query('SELECT * FROM customers WHERE customer_id = $1', [userId]);\r\n\r\n    const customerData = customer.rows[0];\r\n    //add a temporary cart property to customer, but won't add it to database\r\n    //cart = cartItems;\r\n    customerData.cart = cartItems;\r\n    const cart = customerData.cart || {};\r\n    console.log(cart);\r\n    if (customer) {\r\n      res.status(200).json(customerData);\r\n    }\r\n    else {\r\n      res.status(404).json({ message: 'Customer not found!' });\r\n    }\r\n});\r\n//endpoint for adding product to cart\r\napp.post('/api/users/:userId/cart', async (req,res) => {\r\n  const { productId } = req.body; //productId\r\n  console.log(productId);\r\n  console.log(cartItems);\r\n\r\n  const itemExist = cartItems.find((product) => product.product_id.toString() === productId);\r\n\r\n  console.log(itemExist);\r\n  if(itemExist){ \r\n    itemExist.quantity += 1;\r\n    console.log('already in cart');\r\n    res.status(200).json(cartItems);\r\n  }\r\n  else {\r\n    const result = await client.query('SELECT * FROM products WHERE product_id = $1', [productId]);\r\n    //console.log(result)\r\n    const product = result.rows[0];\r\n    if(product) {\r\n        product.quantity = 1;\r\n        cartItems.push(product); //add product to cart\r\n        res.status(200).json(cartItems);\r\n    }\r\n    else {\r\n        res.status(404).json({message: 'Product not found!'});\r\n    }\r\n  }\r\n});\r\n\r\n//delete from cart\r\napp.delete('/api/users/:userId/cart/:productId', (req,res) => {\r\n     const { productId } = req.params; //productId\r\n     cartItems = cartItems.filter((product) => product.product_id.toString() !== productId);\r\n     res.status(200).json(cartItems);\r\n});\r\n\r\n//checking out from cart\r\napp.post('/api/users/:userId/cart/checkout', async (req,res) => {\r\n  const { userId } = req.params;\r\n  const cartItems = req.body;\r\n  console.log(cartItems);\r\n  const orderDate = new Date();\r\n  const totalPrice = cartItems.reduce((total, item) => total + Number(item.price * item.quantity), 0);\r\n  \r\n  const orderResult = await client.query('INSERT INTO orders (customer_id, order_date, total_price) VALUES ($1, $2, $3) RETURNING order_id', [userId, orderDate, totalPrice]);\r\n  const orderId = orderResult.rows[0].order_id;\r\n\r\n  cartItems.forEach(async (item) => {\r\n    await client.query('INSERT INTO OrderDetail (order_id, product_id, quantity) VALUES ($1, $2, $3)', [orderId, item.product_id, item.quantity]);\r\n  });\r\n  res.status(200).json({message: 'Checkout successfully!'});\r\n  \r\n})\r\n//-----------------------------------------------//\r\n// Login Route\r\napp.post('/api/login', async (req,res) => {\r\n  const { username, password } = req.body;\r\n  // Check if the account is exist\r\n  const checkAccount = 'SELECT * FROM Accounts WHERE username = $1 AND password = $2';\r\n  const user = await client.query(checkAccount, [username, password]);\r\n  const userData = user.rows[0];\r\n  console.log(userData)\r\n  if(user.rows.length > 0) {\r\n    res.status(200).json({message: 'Login successfully!', loggedIn: true , userId : userData.customer_id});\r\n  }\r\n  else {\r\n    res.status(401).json({message: 'Login failed!', loggedIn: false});\r\n  }\r\n});\r\n\r\n// Register route\r\napp.post('/api/register', async (req, res) => {\r\n  try {\r\n    const { username, password, name, age, tel, address, gender, email } = req.body;\r\n\r\n    // Check if the username is already taken\r\n    const checkUsernameQuery = 'SELECT username FROM Accounts WHERE username = $1';\r\n    const result = await client.query(checkUsernameQuery, [username]);\r\n\r\n    if (result.rows.length > 0) {\r\n      // Username is already taken\r\n      return res.status(400).json({ message: 'Username is already taken' });\r\n    }\r\n\r\n    // Insert the customer data into the Customers table\r\n    const customerQuery = 'INSERT INTO Customers (name, age, tel, gender, email, address) VALUES ($1, $2, $3, $4, $5, $6) RETURNING customer_id';\r\n    const customerResult = await client.query(customerQuery, [name, age, tel, gender, email, address]);\r\n    const customerId = customerResult.rows[0].customer_id;\r\n\r\n    // Insert the account data into the Accounts table\r\n    const accountQuery = 'INSERT INTO Accounts (customer_id, username, password) VALUES ($1, $2, $3)';\r\n    await client.query(accountQuery, [customerId, username, password]);\r\n\r\n    res.status(200).json({ message: 'Registration successful' });\r\n  } catch (error) {\r\n    console.error(error);\r\n    res.status(500).json({ message: 'Registration failed' });\r\n  }\r\n});\r\n\r\n\r\n//For references purpose\r\n//-----------------------------------------------//\r\napp.get('/hello', (req, res) => {\r\n    res.send('Hello!');\r\n});\r\n\r\napp.post('/hello', (req, res) => {\r\n    res.send(`Hello ${req.body.name}!`);\r\n});\r\n\r\napp.get('/xinchao/:name', (req, res) => {\r\n    res.send(`Chào em bé ${req.params.name}`)\r\n});\r\n\r\napp.get('/test-db', (req, res) => {\r\n    \r\n});\r\n\r\napp.listen(8000, () => {\r\n    console.log('Server is listening on port 8000');\r\n});\r\n\r\n"],"mappings":"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"}},"mtime":1689531482113},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\ShoeShop\\\\server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\ShoeShop\\\\server\",\"filename\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\ShoeShop\\\\server\\\\connection.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Admin\\\\Desktop\\\\ShoeShop\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.22.8:development":{"value":{"code":"const {\n  Client\n} = require('pg');\nconst client = new Client({\n  host: 'localhost',\n  port: 5432,\n  user: 'postgres',\n  password: '12345',\n  database: 'ShopDatabase'\n});\nmodule.exports = client;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDbGllbnQiLCJyZXF1aXJlIiwiY2xpZW50IiwiaG9zdCIsInBvcnQiLCJ1c2VyIiwicGFzc3dvcmQiLCJkYXRhYmFzZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQWRtaW5cXERlc2t0b3BcXFNob2VTaG9wXFxzZXJ2ZXJcXCIsInNvdXJjZXMiOlsiY29ubmVjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IENsaWVudCB9ID0gcmVxdWlyZSgncGcnKTtcclxuXHJcbmNvbnN0IGNsaWVudCA9IG5ldyBDbGllbnQoe1xyXG4gaG9zdDogJ2xvY2FsaG9zdCcsXHJcbiBwb3J0OiA1NDMyLFxyXG4gdXNlcjogJ3Bvc3RncmVzJyxcclxuIHBhc3N3b3JkOiAnMTIzNDUnLFxyXG4gZGF0YWJhc2U6ICdTaG9wRGF0YWJhc2UnXHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBjbGllbnQ7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0VBQUVBO0FBQU8sQ0FBQyxHQUFHQyxPQUFPLENBQUMsSUFBSSxDQUFDO0FBRWhDLE1BQU1DLE1BQU0sR0FBRyxJQUFJRixNQUFNLENBQUM7RUFDekJHLElBQUksRUFBRSxXQUFXO0VBQ2pCQyxJQUFJLEVBQUUsSUFBSTtFQUNWQyxJQUFJLEVBQUUsVUFBVTtFQUNoQkMsUUFBUSxFQUFFLE9BQU87RUFDakJDLFFBQVEsRUFBRTtBQUNYLENBQUMsQ0FBQztBQUVGQyxNQUFNLENBQUNDLE9BQU8sR0FBR1AsTUFBTSJ9","map":{"version":3,"names":["Client","require","client","host","port","user","password","database","module","exports"],"sourceRoot":"C:\\Users\\Admin\\Desktop\\ShoeShop\\server\\","sources":["connection.js"],"sourcesContent":["const { Client } = require('pg');\r\n\r\nconst client = new Client({\r\n host: 'localhost',\r\n port: 5432,\r\n user: 'postgres',\r\n password: '12345',\r\n database: 'ShopDatabase'\r\n});\r\n\r\nmodule.exports = client;"],"mappings":"AAAA,MAAM;EAAEA;AAAO,CAAC,GAAGC,OAAO,CAAC,IAAI,CAAC;AAEhC,MAAMC,MAAM,GAAG,IAAIF,MAAM,CAAC;EACzBG,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,IAAI;EACVC,IAAI,EAAE,UAAU;EAChBC,QAAQ,EAAE,OAAO;EACjBC,QAAQ,EAAE;AACX,CAAC,CAAC;AAEFC,MAAM,CAACC,OAAO,GAAGP,MAAM"}},"mtime":1688922584392}}